/*! mns-tax-calc 2021-03-19 */
function CountChildInvalidError() {
   (this.name = 'CountChildInvalidError'),
      (this.message = 'Count children invalid more then child before 18');
}
if ('undefined' == typeof jQuery)
   throw new Error("Bootstrap's JavaScript requires jQuery");
+(function (a) {
   'use strict';
   var b = a.fn.jquery.split(' ')[0].split('.');
   if ((b[0] < 2 && b[1] < 9) || (1 == b[0] && 9 == b[1] && b[2] < 1))
      throw new Error(
         "Bootstrap's JavaScript requires jQuery version 1.9.1 or higher"
      );
})(jQuery),
   +(function (a) {
      'use strict';
      function b(b, d) {
         return this.each(function () {
            var e = a(this),
               f = e.data('bs.modal'),
               g = a.extend(
                  {},
                  c.DEFAULTS,
                  e.data(),
                  'object' == typeof b && b
               );
            f || e.data('bs.modal', (f = new c(this, g))),
               'string' == typeof b ? f[b](d) : g.show && f.show(d);
         });
      }
      var c = function (b, c) {
         (this.options = c),
            (this.$body = a(document.body)),
            (this.$element = a(b)),
            (this.$dialog = this.$element.find('.modal-dialog')),
            (this.$backdrop = null),
            (this.isShown = null),
            (this.originalBodyPad = null),
            (this.scrollbarWidth = 0),
            (this.ignoreBackdropClick = !1),
            this.options.remote &&
               this.$element.find('.modal-content').load(
                  this.options.remote,
                  a.proxy(function () {
                     this.$element.trigger('loaded.bs.modal');
                  }, this)
               );
      };
      (c.VERSION = '3.3.5'),
         (c.TRANSITION_DURATION = 300),
         (c.BACKDROP_TRANSITION_DURATION = 150),
         (c.DEFAULTS = { backdrop: !0, keyboard: !0, show: !0 }),
         (c.prototype.toggle = function (a) {
            return this.isShown ? this.hide() : this.show(a);
         }),
         (c.prototype.show = function (b) {
            var d = this,
               e = a.Event('show.bs.modal', { relatedTarget: b });
            this.$element.trigger(e),
               this.isShown ||
                  e.isDefaultPrevented() ||
                  ((this.isShown = !0),
                  this.checkScrollbar(),
                  this.setScrollbar(),
                  this.$body.addClass('modal-open'),
                  this.escape(),
                  this.resize(),
                  this.$element.on(
                     'click.dismiss.bs.modal',
                     '[data-dismiss="modal"]',
                     a.proxy(this.hide, this)
                  ),
                  this.$dialog.on('mousedown.dismiss.bs.modal', function () {
                     d.$element.one('mouseup.dismiss.bs.modal', function (b) {
                        a(b.target).is(d.$element) &&
                           (d.ignoreBackdropClick = !0);
                     });
                  }),
                  this.backdrop(function () {
                     var e =
                        a.support.transition && d.$element.hasClass('fade');
                     d.$element.parent().length || d.$element.appendTo(d.$body),
                        d.$element.show().scrollTop(0),
                        d.adjustDialog(),
                        e && d.$element[0].offsetWidth,
                        d.$element.addClass('show'),
                        d.enforceFocus();
                     var f = a.Event('shown.bs.modal', { relatedTarget: b });
                     e
                        ? d.$dialog
                             .one('bsTransitionEnd', function () {
                                d.$element.trigger('focus').trigger(f);
                             })
                             .emulateTransitionEnd(c.TRANSITION_DURATION)
                        : d.$element.trigger('focus').trigger(f);
                  }));
         }),
         (c.prototype.hide = function (b) {
            b && b.preventDefault(),
               (b = a.Event('hide.bs.modal')),
               this.$element.trigger(b),
               this.isShown &&
                  !b.isDefaultPrevented() &&
                  ((this.isShown = !1),
                  this.escape(),
                  this.resize(),
                  a(document).off('focusin.bs.modal'),
                  this.$element
                     .removeClass('show')
                     .off('click.dismiss.bs.modal')
                     .off('mouseup.dismiss.bs.modal'),
                  this.$dialog.off('mousedown.dismiss.bs.modal'),
                  a.support.transition && this.$element.hasClass('fade')
                     ? this.$element
                          .one('bsTransitionEnd', a.proxy(this.hideModal, this))
                          .emulateTransitionEnd(c.TRANSITION_DURATION)
                     : this.hideModal());
         }),
         (c.prototype.enforceFocus = function () {
            a(document)
               .off('focusin.bs.modal')
               .on(
                  'focusin.bs.modal',
                  a.proxy(function (a) {
                     this.$element[0] === a.target ||
                        this.$element.has(a.target).length ||
                        this.$element.trigger('focus');
                  }, this)
               );
         }),
         (c.prototype.escape = function () {
            this.isShown && this.options.keyboard
               ? this.$element.on(
                    'keydown.dismiss.bs.modal',
                    a.proxy(function (a) {
                       27 == a.which && this.hide();
                    }, this)
                 )
               : this.isShown || this.$element.off('keydown.dismiss.bs.modal');
         }),
         (c.prototype.resize = function () {
            this.isShown
               ? a(window).on(
                    'resize.bs.modal',
                    a.proxy(this.handleUpdate, this)
                 )
               : a(window).off('resize.bs.modal');
         }),
         (c.prototype.hideModal = function () {
            var a = this;
            this.$element.hide(),
               this.backdrop(function () {
                  a.$body.removeClass('modal-open'),
                     a.resetAdjustments(),
                     a.resetScrollbar(),
                     a.$element.trigger('hidden.bs.modal');
               });
         }),
         (c.prototype.removeBackdrop = function () {
            this.$backdrop && this.$backdrop.remove(), (this.$backdrop = null);
         }),
         (c.prototype.backdrop = function (b) {
            var d = this,
               e = this.$element.hasClass('fade') ? 'fade' : '';
            if (this.isShown && this.options.backdrop) {
               var f = a.support.transition && e;
               if (
                  ((this.$backdrop = a(document.createElement('div'))
                     .addClass('modal-backdrop ' + e)
                     .appendTo(this.$body)),
                  this.$element.on(
                     'click.dismiss.bs.modal',
                     a.proxy(function (a) {
                        return this.ignoreBackdropClick
                           ? void (this.ignoreBackdropClick = !1)
                           : void (
                                a.target === a.currentTarget &&
                                ('static' == this.options.backdrop
                                   ? this.$element[0].focus()
                                   : this.hide())
                             );
                     }, this)
                  ),
                  f && this.$backdrop[0].offsetWidth,
                  this.$backdrop.addClass('show'),
                  !b)
               )
                  return;
               f
                  ? this.$backdrop
                       .one('bsTransitionEnd', b)
                       .emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION)
                  : b();
            } else if (!this.isShown && this.$backdrop) {
               this.$backdrop.removeClass('show');
               var g = function () {
                  d.removeBackdrop(), b && b();
               };
               a.support.transition && this.$element.hasClass('fade')
                  ? this.$backdrop
                       .one('bsTransitionEnd', g)
                       .emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION)
                  : g();
            } else b && b();
         }),
         (c.prototype.handleUpdate = function () {
            this.adjustDialog();
         }),
         (c.prototype.adjustDialog = function () {
            var a =
               this.$element[0].scrollHeight >
               document.documentElement.clientHeight;
            this.$element.css({
               paddingLeft:
                  !this.bodyIsOverflowing && a ? this.scrollbarWidth : '',
               paddingRight:
                  this.bodyIsOverflowing && !a ? this.scrollbarWidth : '',
            });
         }),
         (c.prototype.resetAdjustments = function () {
            this.$element.css({ paddingLeft: '', paddingRight: '' });
         }),
         (c.prototype.checkScrollbar = function () {
            var a = window.innerWidth;
            if (!a) {
               var b = document.documentElement.getBoundingClientRect();
               a = b.right - Math.abs(b.left);
            }
            (this.bodyIsOverflowing = document.body.clientWidth < a),
               (this.scrollbarWidth = this.measureScrollbar());
         }),
         (c.prototype.setScrollbar = function () {
            var a = parseInt(this.$body.css('padding-right') || 0, 10);
            (this.originalBodyPad = document.body.style.paddingRight || ''),
               this.bodyIsOverflowing &&
                  this.$body.css('padding-right', a + this.scrollbarWidth);
         }),
         (c.prototype.resetScrollbar = function () {
            this.$body.css('padding-right', this.originalBodyPad);
         }),
         (c.prototype.measureScrollbar = function () {
            var a = document.createElement('div');
            (a.className = 'modal-scrollbar-measure'), this.$body.append(a);
            var b = a.offsetWidth - a.clientWidth;
            return this.$body[0].removeChild(a), b;
         });
      var d = a.fn.modal;
      (a.fn.modal = b),
         (a.fn.modal.Constructor = c),
         (a.fn.modal.noConflict = function () {
            return (a.fn.modal = d), this;
         }),
         a(document).on(
            'click.bs.modal.data-api',
            '[data-toggle="modal"]',
            function (c) {
               var d = a(this),
                  e = d.attr('href'),
                  f = a(
                     d.attr('data-target') ||
                        (e && e.replace(/.*(?=#[^\s]+$)/, ''))
                  ),
                  g = f.data('bs.modal')
                     ? 'toggle'
                     : a.extend(
                          { remote: !/#/.test(e) && e },
                          f.data(),
                          d.data()
                       );
               d.is('a') && c.preventDefault(),
                  f.one('show.bs.modal', function (a) {
                     a.isDefaultPrevented() ||
                        f.one('hidden.bs.modal', function () {
                           d.is(':visible') && d.trigger('focus');
                        });
                  }),
                  b.call(f, g, this);
            }
         );
   })(jQuery),
   +(function (a) {
      'use strict';
      function b(b) {
         return this.each(function () {
            var d = a(this),
               e = d.data('bs.tooltip'),
               f = 'object' == typeof b && b;
            (!e && /destroy|hide/.test(b)) ||
               (e || d.data('bs.tooltip', (e = new c(this, f))),
               'string' == typeof b && e[b]());
         });
      }
      var c = function (a, b) {
         (this.type = null),
            (this.options = null),
            (this.enabled = null),
            (this.timeout = null),
            (this.hoverState = null),
            (this.$element = null),
            (this.inState = null),
            this.init('tooltip', a, b);
      };
      (c.VERSION = '4.4.6'),
         (c.TRANSITION_DURATION = 150),
         (c.DEFAULTS = {
            animation: !0,
            placement: 'top',
            selector: !1,
            template:
               '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',
            trigger: 'hover focus',
            title: '',
            delay: 0,
            html: !1,
            container: !1,
            viewport: { selector: 'body', padding: 0 },
         }),
         (c.prototype.init = function (b, c, d) {
            if (
               ((this.enabled = !0),
               (this.type = b),
               (this.$element = a(c)),
               (this.options = this.getOptions(d)),
               (this.$viewport =
                  this.options.viewport &&
                  a(
                     a.isFunction(this.options.viewport)
                        ? this.options.viewport.call(this, this.$element)
                        : this.options.viewport.selector ||
                             this.options.viewport
                  )),
               (this.inState = { click: !1, hover: !1, focus: !1 }),
               this.$element[0] instanceof document.constructor &&
                  !this.options.selector)
            )
               throw new Error(
                  '`selector` option must be specified when initializing ' +
                     this.type +
                     ' on the window.document object!'
               );
            for (var e = this.options.trigger.split(' '), f = e.length; f--; ) {
               var g = e[f];
               if ('click' == g)
                  this.$element.on(
                     'click.' + this.type,
                     this.options.selector,
                     a.proxy(this.toggle, this)
                  );
               else if ('manual' != g) {
                  var h = 'hover' == g ? 'mouseenter' : 'focusin',
                     i = 'hover' == g ? 'mouseleave' : 'focusout';
                  this.$element.on(
                     h + '.' + this.type,
                     this.options.selector,
                     a.proxy(this.enter, this)
                  ),
                     this.$element.on(
                        i + '.' + this.type,
                        this.options.selector,
                        a.proxy(this.leave, this)
                     );
               }
            }
            this.options.selector
               ? (this._options = a.extend({}, this.options, {
                    trigger: 'manual',
                    selector: '',
                 }))
               : this.fixTitle();
         }),
         (c.prototype.getDefaults = function () {
            return c.DEFAULTS;
         }),
         (c.prototype.getOptions = function (b) {
            return (
               (b = a.extend({}, this.getDefaults(), this.$element.data(), b)),
               b.delay &&
                  'number' == typeof b.delay &&
                  (b.delay = { show: b.delay, hide: b.delay }),
               b
            );
         }),
         (c.prototype.getDelegateOptions = function () {
            var b = {},
               c = this.getDefaults();
            return (
               this._options &&
                  a.each(this._options, function (a, d) {
                     c[a] != d && (b[a] = d);
                  }),
               b
            );
         }),
         (c.prototype.enter = function (b) {
            var c =
               b instanceof this.constructor
                  ? b
                  : a(b.currentTarget).data('bs.' + this.type);
            return (
               c ||
                  ((c = new this.constructor(
                     b.currentTarget,
                     this.getDelegateOptions()
                  )),
                  a(b.currentTarget).data('bs.' + this.type, c)),
               b instanceof a.Event &&
                  (c.inState['focusin' == b.type ? 'focus' : 'hover'] = !0),
               c.tip().hasClass('show') || 'show' == c.hoverState
                  ? void (c.hoverState = 'show')
                  : (clearTimeout(c.timeout),
                    (c.hoverState = 'show'),
                    c.options.delay && c.options.delay.show
                       ? void (c.timeout = setTimeout(function () {
                            'show' == c.hoverState && c.show();
                         }, c.options.delay.show))
                       : c.show())
            );
         }),
         (c.prototype.isInStateTrue = function () {
            for (var a in this.inState) if (this.inState[a]) return !0;
            return !1;
         }),
         (c.prototype.leave = function (b) {
            var c =
               b instanceof this.constructor
                  ? b
                  : a(b.currentTarget).data('bs.' + this.type);
            if (
               (c ||
                  ((c = new this.constructor(
                     b.currentTarget,
                     this.getDelegateOptions()
                  )),
                  a(b.currentTarget).data('bs.' + this.type, c)),
               b instanceof a.Event &&
                  (c.inState['focusout' == b.type ? 'focus' : 'hover'] = !1),
               !c.isInStateTrue())
            )
               return (
                  clearTimeout(c.timeout),
                  (c.hoverState = 'out'),
                  c.options.delay && c.options.delay.hide
                     ? void (c.timeout = setTimeout(function () {
                          'out' == c.hoverState && c.hide();
                       }, c.options.delay.hide))
                     : c.hide()
               );
         }),
         (c.prototype.show = function () {
            var b = a.Event('show.bs.' + this.type);
            if (this.hasContent() && this.enabled) {
               this.$element.trigger(b);
               var d = a.contains(
                  this.$element[0].ownerDocument.documentElement,
                  this.$element[0]
               );
               if (b.isDefaultPrevented() || !d) return;
               var e = this,
                  f = this.tip(),
                  g = this.getUID(this.type);
               this.setContent(),
                  f.attr('id', g),
                  this.$element.attr('aria-describedby', g),
                  this.options.animation && f.addClass('fade');
               var h =
                     'function' == typeof this.options.placement
                        ? this.options.placement.call(
                             this,
                             f[0],
                             this.$element[0]
                          )
                        : this.options.placement,
                  i = /\s?auto?\s?/i,
                  j = i.test(h);
               j && (h = h.replace(i, '') || 'top'),
                  f
                     .detach()
                     .css({ top: 0, left: 0, display: 'block' })
                     .addClass(h)
                     .data('bs.' + this.type, this),
                  this.options.container
                     ? f.appendTo(this.options.container)
                     : f.insertAfter(this.$element),
                  this.$element.trigger('inserted.bs.' + this.type);
               var k = this.getPosition(),
                  l = f[0].offsetWidth,
                  m = f[0].offsetHeight;
               if (j) {
                  var n = h,
                     o = this.getPosition(this.$viewport);
                  (h =
                     'bottom' == h && k.bottom + m > o.bottom
                        ? 'top'
                        : 'top' == h && k.top - m < o.top
                        ? 'bottom'
                        : 'right' == h && k.right + l > o.width
                        ? 'left'
                        : 'left' == h && k.left - l < o.left
                        ? 'right'
                        : h),
                     f.removeClass(n).addClass(h);
               }
               var p = this.getCalculatedOffset(h, k, l, m);
               this.applyPlacement(p, h);
               var q = function () {
                  var a = e.hoverState;
                  e.$element.trigger('shown.bs.' + e.type),
                     (e.hoverState = null),
                     'out' == a && e.leave(e);
               };
               a.support.transition && this.$tip.hasClass('fade')
                  ? f
                       .one('bsTransitionEnd', q)
                       .emulateTransitionEnd(c.TRANSITION_DURATION)
                  : q();
            }
         }),
         (c.prototype.applyPlacement = function (b, c) {
            var d = this.tip(),
               e = d[0].offsetWidth,
               f = d[0].offsetHeight,
               g = parseInt(d.css('margin-top'), 10),
               h = parseInt(d.css('margin-left'), 10);
            isNaN(g) && (g = 0),
               isNaN(h) && (h = 0),
               (b.top += g),
               (b.left += h),
               a.offset.setOffset(
                  d[0],
                  a.extend(
                     {
                        using: function (a) {
                           d.css({
                              top: Math.round(a.top),
                              left: Math.round(a.left),
                           });
                        },
                     },
                     b
                  ),
                  0
               ),
               d.addClass('show');
            var i = d[0].offsetWidth,
               j = d[0].offsetHeight;
            'top' == c && j != f && (b.top = b.top + f - j);
            var k = this.getViewportAdjustedDelta(c, b, i, j);
            k.left ? (b.left += k.left) : (b.top += k.top);
            var l = /top|bottom/.test(c),
               m = l ? 2 * k.left - e + i : 2 * k.top - f + j,
               n = l ? 'offsetWidth' : 'offsetHeight';
            d.offset(b), this.replaceArrow(m, d[0][n], l);
         }),
         (c.prototype.replaceArrow = function (a, b, c) {
            this.arrow()
               .css(c ? 'left' : 'top', 50 * (1 - a / b) + '%')
               .css(c ? 'top' : 'left', '');
         }),
         (c.prototype.setContent = function () {
            var a = this.tip(),
               b = this.getTitle();
            a.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](b),
               a.removeClass('fade show top bottom left right');
         }),
         (c.prototype.hide = function (b) {
            function d() {
               'show' != e.hoverState && f.detach(),
                  e.$element
                     .removeAttr('aria-describedby')
                     .trigger('hidden.bs.' + e.type),
                  b && b();
            }
            var e = this,
               f = a(this.$tip),
               g = a.Event('hide.bs.' + this.type);
            if ((this.$element.trigger(g), !g.isDefaultPrevented()))
               return (
                  f.removeClass('show'),
                  a.support.transition && f.hasClass('fade')
                     ? f
                          .one('bsTransitionEnd', d)
                          .emulateTransitionEnd(c.TRANSITION_DURATION)
                     : d(),
                  (this.hoverState = null),
                  this
               );
         }),
         (c.prototype.fixTitle = function () {
            var a = this.$element;
            (a.attr('title') ||
               'string' != typeof a.attr('data-original-title')) &&
               a
                  .attr('data-original-title', a.attr('title') || '')
                  .attr('title', '');
         }),
         (c.prototype.hasContent = function () {
            return this.getTitle();
         }),
         (c.prototype.getPosition = function (b) {
            b = b || this.$element;
            var c = b[0],
               d = 'BODY' == c.tagName,
               e = c.getBoundingClientRect();
            null == e.width &&
               (e = a.extend({}, e, {
                  width: e.right - e.left,
                  height: e.bottom - e.top,
               }));
            var f = d ? { top: 0, left: 0 } : b.offset(),
               g = {
                  scroll: d
                     ? document.documentElement.scrollTop ||
                       document.body.scrollTop
                     : b.scrollTop(),
               },
               h = d
                  ? { width: a(window).width(), height: a(window).height() }
                  : null;
            return a.extend({}, e, g, h, f);
         }),
         (c.prototype.getCalculatedOffset = function (a, b, c, d) {
            return 'bottom' == a
               ? { top: b.top + b.height, left: b.left + b.width / 2 - c / 2 }
               : 'top' == a
               ? { top: b.top - d, left: b.left + b.width / 2 - c / 2 }
               : 'left' == a
               ? { top: b.top + b.height / 2 - d / 2, left: b.left - c }
               : { top: b.top + b.height / 2 - d / 2, left: b.left + b.width };
         }),
         (c.prototype.getViewportAdjustedDelta = function (a, b, c, d) {
            var e = { top: 0, left: 0 };
            if (!this.$viewport) return e;
            var f =
                  (this.options.viewport && this.options.viewport.padding) || 0,
               g = this.getPosition(this.$viewport);
            if (/right|left/.test(a)) {
               var h = b.top - f - g.scroll,
                  i = b.top + f - g.scroll + d;
               h < g.top
                  ? (e.top = g.top - h)
                  : i > g.top + g.height && (e.top = g.top + g.height - i);
            } else {
               var j = b.left - f,
                  k = b.left + f + c;
               j < g.left
                  ? (e.left = g.left - j)
                  : k > g.right && (e.left = g.left + g.width - k);
            }
            return e;
         }),
         (c.prototype.getTitle = function () {
            var a,
               b = this.$element,
               c = this.options;
            return (a =
               b.attr('data-original-title') ||
               ('function' == typeof c.title ? c.title.call(b[0]) : c.title));
         }),
         (c.prototype.getUID = function (a) {
            do a += ~~(1e6 * Math.random());
            while (document.getElementById(a));
            return a;
         }),
         (c.prototype.tip = function () {
            if (
               !this.$tip &&
               ((this.$tip = a(this.options.template)), 1 != this.$tip.length)
            )
               throw new Error(
                  this.type +
                     ' `template` option must consist of exactly 1 top-level element!'
               );
            return this.$tip;
         }),
         (c.prototype.arrow = function () {
            return (this.$arrow =
               this.$arrow || this.tip().find('.arrow'));
         }),
         (c.prototype.enable = function () {
            this.enabled = !0;
         }),
         (c.prototype.disable = function () {
            this.enabled = !1;
         }),
         (c.prototype.toggleEnabled = function () {
            this.enabled = !this.enabled;
         }),
         (c.prototype.toggle = function (b) {
            var c = this;
            b &&
               ((c = a(b.currentTarget).data('bs.' + this.type)),
               c ||
                  ((c = new this.constructor(
                     b.currentTarget,
                     this.getDelegateOptions()
                  )),
                  a(b.currentTarget).data('bs.' + this.type, c))),
               b
                  ? ((c.inState.click = !c.inState.click),
                    c.isInStateTrue() ? c.enter(c) : c.leave(c))
                  : c.tip().hasClass('show')
                  ? c.leave(c)
                  : c.enter(c);
         }),
         (c.prototype.destroy = function () {
            var a = this;
            clearTimeout(this.timeout),
               this.hide(function () {
                  a.$element.off('.' + a.type).removeData('bs.' + a.type),
                     a.$tip && a.$tip.detach(),
                     (a.$tip = null),
                     (a.$arrow = null),
                     (a.$viewport = null);
               });
         });
      var d = a.fn.tooltip;
      (a.fn.tooltip = b),
         (a.fn.tooltip.Constructor = c),
         (a.fn.tooltip.noConflict = function () {
            return (a.fn.tooltip = d), this;
         });
   })(jQuery),
   (function (a) {
      'function' == typeof define && define.amd
         ? define(['jquery.validate'], a)
         : a(jQuery);
   })(function (a) {
      a.extend(a.fn, {
         validate: function (b) {
            if (!this.length)
               return void (
                  b &&
                  b.debug &&
                  window.console &&
                  console.warn(
                     "Nothing selected, can't validate, returning nothing."
                  )
               );
            var c = a.data(this[0], 'validator');
            return c
               ? c
               : (this.attr('novalidate', 'novalidate'),
                 (c = new a.validator(b, this[0])),
                 a.data(this[0], 'validator', c),
                 c.settings.onsubmit &&
                    (this.on('click.validate', ':submit', function (b) {
                       c.settings.submitHandler && (c.submitButton = b.target),
                          a(this).hasClass('cancel') && (c.cancelSubmit = !0),
                          void 0 !== a(this).attr('formnovalidate') &&
                             (c.cancelSubmit = !0);
                    }),
                    this.on('submit.validate', function (b) {
                       function d() {
                          var d, e;
                          return (
                             !c.settings.submitHandler ||
                             (c.submitButton &&
                                (d = a("<input type='hidden'/>")
                                   .attr('name', c.submitButton.name)
                                   .val(a(c.submitButton).val())
                                   .appendTo(c.currentForm)),
                             (e = c.settings.submitHandler.call(
                                c,
                                c.currentForm,
                                b
                             )),
                             c.submitButton && d.remove(),
                             void 0 !== e && e)
                          );
                       }
                       return (
                          c.settings.debug && b.preventDefault(),
                          c.cancelSubmit
                             ? ((c.cancelSubmit = !1), d())
                             : c.form()
                             ? c.pendingRequest
                                ? ((c.formSubmitted = !0), !1)
                                : d()
                             : (c.focusInvalid(), !1)
                       );
                    })),
                 c);
         },
         valid: function () {
            var b, c, d;
            return (
               a(this[0]).is('form')
                  ? (b = this.validate().form())
                  : ((d = []),
                    (b = !0),
                    (c = a(this[0].form).validate()),
                    this.each(function () {
                       (b = c.element(this) && b), (d = d.concat(c.errorList));
                    }),
                    (c.errorList = d)),
               b
            );
         },
         rules: function (b, c) {
            var d,
               e,
               f,
               g,
               h,
               i,
               j = this[0];
            if (b)
               switch (
                  ((d = a.data(j.form, 'validator').settings),
                  (e = d.rules),
                  (f = a.validator.staticRules(j)),
                  b)
               ) {
                  case 'add':
                     a.extend(f, a.validator.normalizeRule(c)),
                        delete f.messages,
                        (e[j.name] = f),
                        c.messages &&
                           (d.messages[j.name] = a.extend(
                              d.messages[j.name],
                              c.messages
                           ));
                     break;
                  case 'remove':
                     return c
                        ? ((i = {}),
                          a.each(c.split(/\s/), function (b, c) {
                             (i[c] = f[c]),
                                delete f[c],
                                'required' === c &&
                                   a(j).removeAttr('aria-required');
                          }),
                          i)
                        : (delete e[j.name], f);
               }
            return (
               (g = a.validator.normalizeRules(
                  a.extend(
                     {},
                     a.validator.classRules(j),
                     a.validator.attributeRules(j),
                     a.validator.dataRules(j),
                     a.validator.staticRules(j)
                  ),
                  j
               )),
               g.required &&
                  ((h = g.required),
                  delete g.required,
                  (g = a.extend({ required: h }, g)),
                  a(j).attr('aria-required', 'true')),
               g.remote &&
                  ((h = g.remote),
                  delete g.remote,
                  (g = a.extend(g, { remote: h }))),
               g
            );
         },
      }),
         a.extend(a.expr[':'], {
            blank: function (b) {
               return !a.trim('' + a(b).val());
            },
            filled: function (b) {
               return !!a.trim('' + a(b).val());
            },
            unchecked: function (b) {
               return !a(b).prop('checked');
            },
         }),
         (a.validator = function (b, c) {
            (this.settings = a.extend(!0, {}, a.validator.defaults, b)),
               (this.currentForm = c),
               this.init();
         }),
         (a.validator.format = function (b, c) {
            return 1 === arguments.length
               ? function () {
                    var c = a.makeArray(arguments);
                    return c.unshift(b), a.validator.format.apply(this, c);
                 }
               : (arguments.length > 2 &&
                    c.constructor !== Array &&
                    (c = a.makeArray(arguments).slice(1)),
                 c.constructor !== Array && (c = [c]),
                 a.each(c, function (a, c) {
                    b = b.replace(
                       new RegExp('\\{' + a + '\\}', 'g'),
                       function () {
                          return c;
                       }
                    );
                 }),
                 b);
         }),
         a.extend(a.validator, {
            defaults: {
               messages: {},
               groups: {},
               rules: {},
               errorClass: 'error',
               validClass: 'valid',
               errorElement: 'label',
               focusCleanup: !1,
               focusInvalid: !0,
               errorContainer: a([]),
               errorLabelContainer: a([]),
               onsubmit: !0,
               ignore: ':hidden',
               ignoreTitle: !1,
               onfocusin: function (a) {
                  (this.lastActive = a),
                     this.settings.focusCleanup &&
                        (this.settings.unhighlight &&
                           this.settings.unhighlight.call(
                              this,
                              a,
                              this.settings.errorClass,
                              this.settings.validClass
                           ),
                        this.hideThese(this.errorsFor(a)));
               },
               onfocusout: function (a) {
                  this.checkable(a) ||
                     (!(a.name in this.submitted) && this.optional(a)) ||
                     this.element(a);
               },
               onkeyup: function (b, c) {
                  var d = [
                     16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225,
                  ];
                  (9 === c.which && '' === this.elementValue(b)) ||
                     a.inArray(c.keyCode, d) !== -1 ||
                     ((b.name in this.submitted || b === this.lastElement) &&
                        this.element(b));
               },
               onclick: function (a) {
                  a.name in this.submitted
                     ? this.element(a)
                     : a.parentNode.name in this.submitted &&
                       this.element(a.parentNode);
               },
               highlight: function (b, c, d) {
                  'radio' === b.type
                     ? this.findByName(b.name).addClass(c).removeClass(d)
                     : a(b).addClass(c).removeClass(d);
               },
               unhighlight: function (b, c, d) {
                  'radio' === b.type
                     ? this.findByName(b.name).removeClass(c).addClass(d)
                     : a(b).removeClass(c).addClass(d);
               },
            },
            setDefaults: function (b) {
               a.extend(a.validator.defaults, b);
            },
            messages: {
               required: 'This field is required.',
               remote: 'Please fix this field.',
               email: 'Please enter a valid email address.',
               url: 'Please enter a valid URL.',
               date: 'Please enter a valid date.',
               dateISO: 'Please enter a valid date ( ISO ).',
               number: 'Please enter a valid number.',
               digits: 'Please enter only digits.',
               creditcard: 'Please enter a valid credit card number.',
               equalTo: 'Please enter the same value again.',
               maxlength: a.validator.format(
                  'Please enter no more than {0} characters.'
               ),
               minlength: a.validator.format(
                  'Please enter at least {0} characters.'
               ),
               rangelength: a.validator.format(
                  'Please enter a value between {0} and {1} characters long.'
               ),
               range: a.validator.format(
                  'Please enter a value between {0} and {1}.'
               ),
               max: a.validator.format(
                  'Please enter a value less than or equal to {0}.'
               ),
               min: a.validator.format(
                  'Please enter a value greater than or equal to {0}.'
               ),
            },
            autoCreateRanges: !1,
            prototype: {
               init: function () {
                  function b(b) {
                     var c = a.data(this.form, 'validator'),
                        d = 'on' + b.type.replace(/^validate/, ''),
                        e = c.settings;
                     e[d] && !a(this).is(e.ignore) && e[d].call(c, this, b);
                  }
                  (this.labelContainer = a(this.settings.errorLabelContainer)),
                     (this.errorContext =
                        (this.labelContainer.length && this.labelContainer) ||
                        a(this.currentForm)),
                     (this.containers = a(this.settings.errorContainer).add(
                        this.settings.errorLabelContainer
                     )),
                     (this.submitted = {}),
                     (this.valueCache = {}),
                     (this.pendingRequest = 0),
                     (this.pending = {}),
                     (this.invalid = {}),
                     this.reset();
                  var c,
                     d = (this.groups = {});
                  a.each(this.settings.groups, function (b, c) {
                     'string' == typeof c && (c = c.split(/\s/)),
                        a.each(c, function (a, c) {
                           d[c] = b;
                        });
                  }),
                     (c = this.settings.rules),
                     a.each(c, function (b, d) {
                        c[b] = a.validator.normalizeRule(d);
                     }),
                     a(this.currentForm)
                        .on(
                           'focusin.validate focusout.validate keyup.validate',
                           ":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",
                           b
                        )
                        .on(
                           'click.validate',
                           "select, option, [type='radio'], [type='checkbox']",
                           b
                        ),
                     this.settings.invalidHandler &&
                        a(this.currentForm).on(
                           'invalid-form.validate',
                           this.settings.invalidHandler
                        ),
                     a(this.currentForm)
                        .find('[required], [data-rule-required], .required')
                        .attr('aria-required', 'true');
               },
               form: function () {
                  return (
                     this.checkForm(),
                     a.extend(this.submitted, this.errorMap),
                     (this.invalid = a.extend({}, this.errorMap)),
                     this.valid() ||
                        a(this.currentForm).triggerHandler('invalid-form', [
                           this,
                        ]),
                     this.showErrors(),
                     this.valid()
                  );
               },
               checkForm: function () {
                  this.prepareForm();
                  for (
                     var a = 0, b = (this.currentElements = this.elements());
                     b[a];
                     a++
                  )
                     this.check(b[a]);
                  return this.valid();
               },
               element: function (b) {
                  var c = this.clean(b),
                     d = this.validationTargetFor(c),
                     e = !0;
                  return (
                     (this.lastElement = d),
                     void 0 === d
                        ? delete this.invalid[c.name]
                        : (this.prepareElement(d),
                          (this.currentElements = a(d)),
                          (e = this.check(d) !== !1),
                          e
                             ? delete this.invalid[d.name]
                             : (this.invalid[d.name] = !0)),
                     a(b).attr('aria-invalid', !e),
                     this.numberOfInvalids() ||
                        (this.toHide = this.toHide.add(this.containers)),
                     this.showErrors(),
                     e
                  );
               },
               showErrors: function (b) {
                  if (b) {
                     a.extend(this.errorMap, b), (this.errorList = []);
                     for (var c in b)
                        this.errorList.push({
                           message: b[c],
                           element: this.findByName(c)[0],
                        });
                     this.successList = a.grep(this.successList, function (a) {
                        return !(a.name in b);
                     });
                  }
                  this.settings.showErrors
                     ? this.settings.showErrors.call(
                          this,
                          this.errorMap,
                          this.errorList
                       )
                     : this.defaultShowErrors();
               },
               resetForm: function () {
                  a.fn.resetForm && a(this.currentForm).resetForm(),
                     (this.submitted = {}),
                     (this.lastElement = null),
                     this.prepareForm(),
                     this.hideErrors();
                  var b,
                     c = this.elements()
                        .removeData('previousValue')
                        .removeAttr('aria-invalid');
                  if (this.settings.unhighlight)
                     for (b = 0; c[b]; b++)
                        this.settings.unhighlight.call(
                           this,
                           c[b],
                           this.settings.errorClass,
                           ''
                        );
                  else c.removeClass(this.settings.errorClass);
               },
               numberOfInvalids: function () {
                  return this.objectLength(this.invalid);
               },
               objectLength: function (a) {
                  var b,
                     c = 0;
                  for (b in a) c++;
                  return c;
               },
               hideErrors: function () {
                  this.hideThese(this.toHide);
               },
               hideThese: function (a) {
                  a.not(this.containers).text(''), this.addWrapper(a).hide();
               },
               valid: function () {
                  return 0 === this.size();
               },
               size: function () {
                  return this.errorList.length;
               },
               focusInvalid: function () {
                  if (this.settings.focusInvalid)
                     try {
                        a(
                           this.findLastActive() ||
                              (this.errorList.length &&
                                 this.errorList[0].element) ||
                              []
                        )
                           .filter(':visible')
                           .focus()
                           .trigger('focusin');
                     } catch (b) {}
               },
               findLastActive: function () {
                  var b = this.lastActive;
                  return (
                     b &&
                     1 ===
                        a.grep(this.errorList, function (a) {
                           return a.element.name === b.name;
                        }).length &&
                     b
                  );
               },
               elements: function () {
                  var b = this,
                     c = {};
                  return a(this.currentForm)
                     .find('input, select, textarea')
                     .not(':submit, :reset, :image, :disabled')
                     .not(this.settings.ignore)
                     .filter(function () {
                        return (
                           !this.name &&
                              b.settings.debug &&
                              window.console &&
                              console.error('%o has no name assigned', this),
                           !(
                              this.name in c || !b.objectLength(a(this).rules())
                           ) && ((c[this.name] = !0), !0)
                        );
                     });
               },
               clean: function (b) {
                  return a(b)[0];
               },
               errors: function () {
                  var b = this.settings.errorClass.split(' ').join('.');
                  return a(
                     this.settings.errorElement + '.' + b,
                     this.errorContext
                  );
               },
               reset: function () {
                  (this.successList = []),
                     (this.errorList = []),
                     (this.errorMap = {}),
                     (this.toShow = a([])),
                     (this.toHide = a([])),
                     (this.currentElements = a([]));
               },
               prepareForm: function () {
                  this.reset(),
                     (this.toHide = this.errors().add(this.containers));
               },
               prepareElement: function (a) {
                  this.reset(), (this.toHide = this.errorsFor(a));
               },
               elementValue: function (b) {
                  var c,
                     d = a(b),
                     e = b.type;
                  return 'radio' === e || 'checkbox' === e
                     ? this.findByName(b.name).filter(':checked').val()
                     : 'number' === e && 'undefined' != typeof b.validity
                     ? !b.validity.badInput && d.val()
                     : ((c = d.val()),
                       'string' == typeof c ? c.replace(/\r/g, '') : c);
               },
               check: function (b) {
                  b = this.validationTargetFor(this.clean(b));
                  var c,
                     d,
                     e,
                     f = a(b).rules(),
                     g = a.map(f, function (a, b) {
                        return b;
                     }).length,
                     h = !1,
                     i = this.elementValue(b);
                  for (d in f) {
                     e = { method: d, parameters: f[d] };
                     try {
                        if (
                           ((c = a.validator.methods[d].call(
                              this,
                              i,
                              b,
                              e.parameters
                           )),
                           'dependency-mismatch' === c && 1 === g)
                        ) {
                           h = !0;
                           continue;
                        }
                        if (((h = !1), 'pending' === c))
                           return void (this.toHide = this.toHide.not(
                              this.errorsFor(b)
                           ));
                        if (!c) return this.formatAndAdd(b, e), !1;
                     } catch (j) {
                        throw (
                           (this.settings.debug &&
                              window.console &&
                              console.log(
                                 'Exception occurred when checking element ' +
                                    b.id +
                                    ", check the '" +
                                    e.method +
                                    "' method.",
                                 j
                              ),
                           j instanceof TypeError &&
                              (j.message +=
                                 '.  Exception occurred when checking element ' +
                                 b.id +
                                 ", check the '" +
                                 e.method +
                                 "' method."),
                           j)
                        );
                     }
                  }
                  if (!h)
                     return (
                        this.objectLength(f) && this.successList.push(b), !0
                     );
               },
               customDataMessage: function (b, c) {
                  return (
                     a(b).data(
                        'msg' +
                           c.charAt(0).toUpperCase() +
                           c.substring(1).toLowerCase()
                     ) || a(b).data('msg')
                  );
               },
               customMessage: function (a, b) {
                  var c = this.settings.messages[a];
                  return c && (c.constructor === String ? c : c[b]);
               },
               findDefined: function () {
                  for (var a = 0; a < arguments.length; a++)
                     if (void 0 !== arguments[a]) return arguments[a];
               },
               defaultMessage: function (b, c) {
                  return this.findDefined(
                     this.customMessage(b.name, c),
                     this.customDataMessage(b, c),
                     (!this.settings.ignoreTitle && b.title) || void 0,
                     a.validator.messages[c],
                     '<strong>Warning: No message defined for ' +
                        b.name +
                        '</strong>'
                  );
               },
               formatAndAdd: function (b, c) {
                  var d = this.defaultMessage(b, c.method),
                     e = /\$?\{(\d+)\}/g;
                  'function' == typeof d
                     ? (d = d.call(this, c.parameters, b))
                     : e.test(d) &&
                       (d = a.validator.format(
                          d.replace(e, '{$1}'),
                          c.parameters
                       )),
                     this.errorList.push({
                        message: d,
                        element: b,
                        method: c.method,
                     }),
                     (this.errorMap[b.name] = d),
                     (this.submitted[b.name] = d);
               },
               addWrapper: function (a) {
                  return (
                     this.settings.wrapper &&
                        (a = a.add(a.parent(this.settings.wrapper))),
                     a
                  );
               },
               defaultShowErrors: function () {
                  var a, b, c;
                  for (a = 0; this.errorList[a]; a++)
                     (c = this.errorList[a]),
                        this.settings.highlight &&
                           this.settings.highlight.call(
                              this,
                              c.element,
                              this.settings.errorClass,
                              this.settings.validClass
                           ),
                        this.showLabel(c.element, c.message);
                  if (
                     (this.errorList.length &&
                        (this.toShow = this.toShow.add(this.containers)),
                     this.settings.success)
                  )
                     for (a = 0; this.successList[a]; a++)
                        this.showLabel(this.successList[a]);
                  if (this.settings.unhighlight)
                     for (a = 0, b = this.validElements(); b[a]; a++)
                        this.settings.unhighlight.call(
                           this,
                           b[a],
                           this.settings.errorClass,
                           this.settings.validClass
                        );
                  (this.toHide = this.toHide.not(this.toShow)),
                     this.hideErrors(),
                     this.addWrapper(this.toShow).show();
               },
               validElements: function () {
                  return this.currentElements.not(this.invalidElements());
               },
               invalidElements: function () {
                  return a(this.errorList).map(function () {
                     return this.element;
                  });
               },
               showLabel: function (b, c) {
                  var d,
                     e,
                     f,
                     g = this.errorsFor(b),
                     h = this.idOrName(b),
                     i = a(b).attr('aria-describedby');
                  g.length
                     ? (g
                          .removeClass(this.settings.validClass)
                          .addClass(this.settings.errorClass),
                       g.html(c))
                     : ((g = a('<' + this.settings.errorElement + '>')
                          .attr('id', h + '-error')
                          .addClass(this.settings.errorClass)
                          .html(c || '')),
                       (d = g),
                       this.settings.wrapper &&
                          (d = g
                             .hide()
                             .show()
                             .wrap('<' + this.settings.wrapper + '/>')
                             .parent()),
                       this.labelContainer.length
                          ? this.labelContainer.append(d)
                          : this.settings.errorPlacement
                          ? this.settings.errorPlacement(d, a(b))
                          : d.insertAfter(b),
                       g.is('label')
                          ? g.attr('for', h)
                          : 0 === g.parents("label[for='" + h + "']").length &&
                            ((f = g
                               .attr('id')
                               .replace(/(:|\.|\[|\]|\$)/g, '\\$1')),
                            i
                               ? i.match(new RegExp('\\b' + f + '\\b')) ||
                                 (i += ' ' + f)
                               : (i = f),
                            a(b).attr('aria-describedby', i),
                            (e = this.groups[b.name]),
                            e &&
                               a.each(this.groups, function (b, c) {
                                  c === e &&
                                     a(
                                        "[name='" + b + "']",
                                        this.currentForm
                                     ).attr('aria-describedby', g.attr('id'));
                               }))),
                     !c &&
                        this.settings.success &&
                        (g.text(''),
                        'string' == typeof this.settings.success
                           ? g.addClass(this.settings.success)
                           : this.settings.success(g, b)),
                     (this.toShow = this.toShow.add(g));
               },
               errorsFor: function (b) {
                  var c = this.idOrName(b),
                     d = a(b).attr('aria-describedby'),
                     e = "label[for='" + c + "'], label[for='" + c + "'] *";
                  return (
                     d && (e = e + ', #' + d.replace(/\s+/g, ', #')),
                     this.errors().filter(e)
                  );
               },
               idOrName: function (a) {
                  return (
                     this.groups[a.name] ||
                     (this.checkable(a) ? a.name : a.id || a.name)
                  );
               },
               validationTargetFor: function (b) {
                  return (
                     this.checkable(b) && (b = this.findByName(b.name)),
                     a(b).not(this.settings.ignore)[0]
                  );
               },
               checkable: function (a) {
                  return /radio|checkbox/i.test(a.type);
               },
               findByName: function (b) {
                  return a(this.currentForm).find("[name='" + b + "']");
               },
               getLength: function (b, c) {
                  switch (c.nodeName.toLowerCase()) {
                     case 'select':
                        return a('option:selected', c).length;
                     case 'input':
                        if (this.checkable(c))
                           return this.findByName(c.name).filter(':checked')
                              .length;
                  }
                  return b.length;
               },
               depend: function (a, b) {
                  return (
                     !this.dependTypes[typeof a] ||
                     this.dependTypes[typeof a](a, b)
                  );
               },
               dependTypes: {
                  boolean: function (a) {
                     return a;
                  },
                  string: function (b, c) {
                     return !!a(b, c.form).length;
                  },
                  function: function (a, b) {
                     return a(b);
                  },
               },
               optional: function (b) {
                  var c = this.elementValue(b);
                  return (
                     !a.validator.methods.required.call(this, c, b) &&
                     'dependency-mismatch'
                  );
               },
               startRequest: function (a) {
                  this.pending[a.name] ||
                     (this.pendingRequest++, (this.pending[a.name] = !0));
               },
               stopRequest: function (b, c) {
                  this.pendingRequest--,
                     this.pendingRequest < 0 && (this.pendingRequest = 0),
                     delete this.pending[b.name],
                     c &&
                     0 === this.pendingRequest &&
                     this.formSubmitted &&
                     this.form()
                        ? (a(this.currentForm).submit(),
                          (this.formSubmitted = !1))
                        : !c &&
                          0 === this.pendingRequest &&
                          this.formSubmitted &&
                          (a(this.currentForm).triggerHandler('invalid-form', [
                             this,
                          ]),
                          (this.formSubmitted = !1));
               },
               previousValue: function (b) {
                  return (
                     a.data(b, 'previousValue') ||
                     a.data(b, 'previousValue', {
                        old: null,
                        valid: !0,
                        message: this.defaultMessage(b, 'remote'),
                     })
                  );
               },
               destroy: function () {
                  this.resetForm(),
                     a(this.currentForm)
                        .off('.validate')
                        .removeData('validator');
               },
            },
            classRuleSettings: {
               required: { required: !0 },
               email: { email: !0 },
               url: { url: !0 },
               date: { date: !0 },
               dateISO: { dateISO: !0 },
               number: { number: !0 },
               digits: { digits: !0 },
               creditcard: { creditcard: !0 },
            },
            addClassRules: function (b, c) {
               b.constructor === String
                  ? (this.classRuleSettings[b] = c)
                  : a.extend(this.classRuleSettings, b);
            },
            classRules: function (b) {
               var c = {},
                  d = a(b).attr('class');
               return (
                  d &&
                     a.each(d.split(' '), function () {
                        this in a.validator.classRuleSettings &&
                           a.extend(c, a.validator.classRuleSettings[this]);
                     }),
                  c
               );
            },
            normalizeAttributeRule: function (a, b, c, d) {
               /min|max/.test(c) &&
                  (null === b || /number|range|text/.test(b)) &&
                  ((d = Number(d)), isNaN(d) && (d = void 0)),
                  d || 0 === d
                     ? (a[c] = d)
                     : b === c && 'range' !== b && (a[c] = !0);
            },
            attributeRules: function (b) {
               var c,
                  d,
                  e = {},
                  f = a(b),
                  g = b.getAttribute('type');
               for (c in a.validator.methods)
                  'required' === c
                     ? ((d = b.getAttribute(c)),
                       '' === d && (d = !0),
                       (d = !!d))
                     : (d = f.attr(c)),
                     this.normalizeAttributeRule(e, g, c, d);
               return (
                  e.maxlength &&
                     /-1|2147483647|524288/.test(e.maxlength) &&
                     delete e.maxlength,
                  e
               );
            },
            dataRules: function (b) {
               var c,
                  d,
                  e = {},
                  f = a(b),
                  g = b.getAttribute('type');
               for (c in a.validator.methods)
                  (d = f.data(
                     'rule' +
                        c.charAt(0).toUpperCase() +
                        c.substring(1).toLowerCase()
                  )),
                     this.normalizeAttributeRule(e, g, c, d);
               return e;
            },
            staticRules: function (b) {
               var c = {},
                  d = a.data(b.form, 'validator');
               return (
                  d.settings.rules &&
                     (c =
                        a.validator.normalizeRule(d.settings.rules[b.name]) ||
                        {}),
                  c
               );
            },
            normalizeRules: function (b, c) {
               return (
                  a.each(b, function (d, e) {
                     if (e === !1) return void delete b[d];
                     if (e.param || e.depends) {
                        var f = !0;
                        switch (typeof e.depends) {
                           case 'string':
                              f = !!a(e.depends, c.form).length;
                              break;
                           case 'function':
                              f = e.depends.call(c, c);
                        }
                        f
                           ? (b[d] = void 0 === e.param || e.param)
                           : delete b[d];
                     }
                  }),
                  a.each(b, function (d, e) {
                     b[d] = a.isFunction(e) ? e(c) : e;
                  }),
                  a.each(['minlength', 'maxlength'], function () {
                     b[this] && (b[this] = Number(b[this]));
                  }),
                  a.each(['rangelength', 'range'], function () {
                     var c;
                     b[this] &&
                        (a.isArray(b[this])
                           ? (b[this] = [
                                Number(b[this][0]),
                                Number(b[this][1]),
                             ])
                           : 'string' == typeof b[this] &&
                             ((c = b[this]
                                .replace(/[\[\]]/g, '')
                                .split(/[\s,]+/)),
                             (b[this] = [Number(c[0]), Number(c[1])])));
                  }),
                  a.validator.autoCreateRanges &&
                     (null != b.min &&
                        null != b.max &&
                        ((b.range = [b.min, b.max]),
                        delete b.min,
                        delete b.max),
                     null != b.minlength &&
                        null != b.maxlength &&
                        ((b.rangelength = [b.minlength, b.maxlength]),
                        delete b.minlength,
                        delete b.maxlength)),
                  b
               );
            },
            normalizeRule: function (b) {
               if ('string' == typeof b) {
                  var c = {};
                  a.each(b.split(/\s/), function () {
                     c[this] = !0;
                  }),
                     (b = c);
               }
               return b;
            },
            addMethod: function (b, c, d) {
               (a.validator.methods[b] = c),
                  (a.validator.messages[b] =
                     void 0 !== d ? d : a.validator.messages[b]),
                  c.length < 3 &&
                     a.validator.addClassRules(b, a.validator.normalizeRule(b));
            },
            methods: {
               required: function (b, c, d) {
                  if (!this.depend(d, c)) return 'dependency-mismatch';
                  if ('select' === c.nodeName.toLowerCase()) {
                     var e = a(c).val();
                     return e && e.length > 0;
                  }
                  return this.checkable(c)
                     ? this.getLength(b, c) > 0
                     : b.length > 0;
               },
               email: function (a, b) {
                  return (
                     this.optional(b) ||
                     /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(
                        a
                     )
                  );
               },
               url: function (a, b) {
                  return (
                     this.optional(b) ||
                     /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(
                        a
                     )
                  );
               },
               date: function (a, b) {
                  return (
                     this.optional(b) ||
                     !/Invalid|NaN/.test(new Date(a).toString())
                  );
               },
               dateISO: function (a, b) {
                  return (
                     this.optional(b) ||
                     /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(
                        a
                     )
                  );
               },
               number: function (a, b) {
                  return (
                     this.optional(b) ||
                     /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)
                  );
               },
               digits: function (a, b) {
                  return this.optional(b) || /^\d+$/.test(a);
               },
               creditcard: function (a, b) {
                  if (this.optional(b)) return 'dependency-mismatch';
                  if (/[^0-9 \-]+/.test(a)) return !1;
                  var c,
                     d,
                     e = 0,
                     f = 0,
                     g = !1;
                  if (
                     ((a = a.replace(/\D/g, '')),
                     a.length < 13 || a.length > 19)
                  )
                     return !1;
                  for (c = a.length - 1; c >= 0; c--)
                     (d = a.charAt(c)),
                        (f = parseInt(d, 10)),
                        g && (f *= 2) > 9 && (f -= 9),
                        (e += f),
                        (g = !g);
                  return e % 10 === 0;
               },
               minlength: function (b, c, d) {
                  var e = a.isArray(b) ? b.length : this.getLength(b, c);
                  return this.optional(c) || e >= d;
               },
               maxlength: function (b, c, d) {
                  var e = a.isArray(b) ? b.length : this.getLength(b, c);
                  return this.optional(c) || e <= d;
               },
               rangelength: function (b, c, d) {
                  var e = a.isArray(b) ? b.length : this.getLength(b, c);
                  return this.optional(c) || (e >= d[0] && e <= d[1]);
               },
               min: function (a, b, c) {
                  return this.optional(b) || a >= c;
               },
               max: function (a, b, c) {
                  return this.optional(b) || a <= c;
               },
               range: function (a, b, c) {
                  return this.optional(b) || (a >= c[0] && a <= c[1]);
               },
               equalTo: function (b, c, d) {
                  var e = a(d);
                  return (
                     this.settings.onfocusout &&
                        e
                           .off('.validate-equalTo')
                           .on('blur.validate-equalTo', function () {
                              a(c).valid();
                           }),
                     b === e.val()
                  );
               },
               remote: function (b, c, d) {
                  if (this.optional(c)) return 'dependency-mismatch';
                  var e,
                     f,
                     g = this.previousValue(c);
                  return (
                     this.settings.messages[c.name] ||
                        (this.settings.messages[c.name] = {}),
                     (g.originalMessage =
                        this.settings.messages[c.name].remote),
                     (this.settings.messages[c.name].remote = g.message),
                     (d = ('string' == typeof d && { url: d }) || d),
                     g.old === b
                        ? g.valid
                        : ((g.old = b),
                          (e = this),
                          this.startRequest(c),
                          (f = {}),
                          (f[c.name] = b),
                          a.ajax(
                             a.extend(
                                !0,
                                {
                                   mode: 'abort',
                                   port: 'validate' + c.name,
                                   dataType: 'json',
                                   data: f,
                                   context: e.currentForm,
                                   success: function (d) {
                                      var f,
                                         h,
                                         i,
                                         j = d === !0 || 'true' === d;
                                      (e.settings.messages[c.name].remote =
                                         g.originalMessage),
                                         j
                                            ? ((i = e.formSubmitted),
                                              e.prepareElement(c),
                                              (e.formSubmitted = i),
                                              e.successList.push(c),
                                              delete e.invalid[c.name],
                                              e.showErrors())
                                            : ((f = {}),
                                              (h =
                                                 d ||
                                                 e.defaultMessage(c, 'remote')),
                                              (f[c.name] = g.message =
                                                 a.isFunction(h) ? h(b) : h),
                                              (e.invalid[c.name] = !0),
                                              e.showErrors(f)),
                                         (g.valid = j),
                                         e.stopRequest(c, j);
                                   },
                                },
                                d
                             )
                          ),
                          'pending')
                  );
               },
            },
         });
      var b,
         c = {};
      a.ajaxPrefilter
         ? a.ajaxPrefilter(function (a, b, d) {
              var e = a.port;
              'abort' === a.mode && (c[e] && c[e].abort(), (c[e] = d));
           })
         : ((b = a.ajax),
           (a.ajax = function (d) {
              var e = ('mode' in d ? d : a.ajaxSettings).mode,
                 f = ('port' in d ? d : a.ajaxSettings).port;
              return 'abort' === e
                 ? (c[f] && c[f].abort(),
                   (c[f] = b.apply(this, arguments)),
                   c[f])
                 : b.apply(this, arguments);
           }));
   }),
   Object.create ||
      (Object.create = function (a, b) {
         function c() {}
         if ('object' != typeof a && 'function' != typeof a)
            throw new TypeError('Object prototype may only be an Object: ' + a);
         if (null === a)
            throw new Error(
               "This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument."
            );
         if ('undefined' != typeof b)
            throw new Error(
               "This browser's implementation of Object.create is a shim and doesn't support a second argument."
            );
         return (c.prototype = a), new c();
      }),
   ('undefined' != typeof console && 'undefined' != typeof console.log) ||
      (this.console = { log: function () {} });
var TaxService = function (a) {
   this.calculator = a;
};
TaxService.prototype.sumCalculator = function () {
   return this.calculator.calculate();
};
var Calculator = function (a) {
   this.dataUser = a;
};
(Calculator.prototype.firstStepA1 = function (a) {
   return (
      this.dataUser.sumByTax2 <= this.config.MS_VALUE
         ? ((a.result = this.dataUser.sumByTax2 - this.config.MS_VALUE_1),
           (a.benefits += this.config.MS_VALUE_1))
         : (a.result = this.dataUser.sumByTax2),
      (a.result = a.result < 0 ? 0 : a.result),
      console.log('Finish 1 step with result:', a.result),
      a
   );
}),
   (Calculator.prototype.firstStepA1NoDeduction = function (a) {
      return (
         (a.result = this.dataUser.sumByTax2),
         console.log('Finish 1 step (no deduction) with result:', a.result),
         a
      );
   }),
   (Calculator.prototype.secondStepA1 = function (a) {
      if (this.dataUser.oneParent5)
         (a.result =
            a.result -
            this.config.MS_VALUE_2 * this.dataUser.countChildBeforeEighteen6),
            (a.benefits +=
               this.config.MS_VALUE_2 *
               this.dataUser.countChildBeforeEighteen6);
      else if (
         0 === this.dataUser.countChildBeforeEighteen6 &&
         0 === this.dataUser.countChildInvalid7
      );
      else if (
         1 === this.dataUser.countChildBeforeEighteen6 &&
         0 === this.dataUser.countChildInvalid7
      )
         (a.result = a.result - this.config.MS_VALUE_3),
            (a.benefits += this.config.MS_VALUE_3);
      else if (
         1 === this.dataUser.countChildBeforeEighteen6 &&
         1 === this.dataUser.countChildInvalid7
      )
         (a.result = a.result - this.config.MS_VALUE_2),
            (a.benefits += this.config.MS_VALUE_2);
      else if (
         this.dataUser.countChildBeforeEighteen6 >= 2 &&
         this.dataUser.countChildInvalid7 <=
            this.dataUser.countChildBeforeEighteen6
      )
         (a.result =
            a.result -
            this.config.MS_VALUE_2 * this.dataUser.countChildBeforeEighteen6),
            (a.benefits +=
               this.config.MS_VALUE_2 *
               this.dataUser.countChildBeforeEighteen6);
      else if (
         this.dataUser.countChildInvalid7 >
         this.dataUser.countChildBeforeEighteen6
      )
         throw new CountChildInvalidError();
      return (
         (a.result = a.result < 0 ? 0 : a.result),
         console.log('Finish 2 step with result:', a.result),
         a
      );
   }),
   (Calculator.prototype.threeStepA1 = function (a) {
      return (
         this.dataUser.oneParent5
            ? ((a.result =
                 a.result -
                 this.config.MS_VALUE_2 * this.dataUser.countDependents8),
              (a.benefits +=
                 this.config.MS_VALUE_2 * this.dataUser.countDependents8))
            : ((a.result =
                 a.result -
                 this.config.MS_VALUE_3 * this.dataUser.countDependents8),
              (a.benefits +=
                 this.config.MS_VALUE_3 * this.dataUser.countDependents8)),
         (a.result = a.result < 0 ? 0 : a.result),
         console.log('Finish 3 step with result:', a.result),
         a
      );
   }),
   (Calculator.prototype.fourStepA1 = function (a) {
      return (
         this.dataUser.privileges9
            ? ((a.result = a.result - this.config.MS_VALUE_4),
              (a.benefits += this.config.MS_VALUE_4))
            : (a.result = a.result),
         (a.result = a.result < 0 ? 0 : a.result),
         console.log('Finish 4 step with result:', a.result),
         a
      );
   }),
   (Calculator.prototype.fiveStepA1 = function (a) {
      return (
         (a.result = a.result - this.dataUser.sumByEducation10),
         (a.benefits += this.dataUser.sumByEducation10),
         (a.result = a.result < 0 ? 0 : a.result),
         console.log('Finish 5 step with result:', a.result),
         a
      );
   }),
   (Calculator.prototype.sixStepA1 = function (a) {
      return (
         this.dataUser.sumSpendInsurancePremiums11 <= this.config.MS_VALUE_5
            ? ((a.result =
                 a.result - this.dataUser.sumSpendInsurancePremiums11),
              (a.benefits += this.dataUser.sumSpendInsurancePremiums11))
            : ((a.result = a.result - this.config.MS_VALUE_5),
              (a.benefits += this.config.MS_VALUE_5)),
         (a.result = a.result < 0 ? 0 : a.result),
         console.log('Finish 6 step with result:', a.result),
         a
      );
   }),
   (Calculator.prototype.sevenStepA1 = function (a) {
      return (
         (a.result = a.result - this.dataUser.costsForBuild12),
         (a.benefits += this.dataUser.costsForBuild12),
         (a.result = a.result < 0 ? 0 : a.result),
         console.log('Finish 7 step with result:', a.result),
         a
      );
   }),
   (Calculator.prototype.additionalStepA1 = function (a) {
      return (
         (a.result =
            a.result -
            this.dataUser.sumByEducation10 -
            this.dataUser.sumSpendInsurancePremiums11 -
            this.dataUser.costsForBuild12),
         (a.benefits =
            a.benefits +
            this.dataUser.sumByEducation10 +
            this.dataUser.sumSpendInsurancePremiums11 +
            this.dataUser.costsForBuild12),
         (a.result = a.result < 0 ? 0 : a.result),
         console.log('Finish additional step with result:', a.result),
         a
      );
   }),
   (Calculator.prototype.income = function (a, b) {
      if (a.selectYear > 2019)
         return (
            console.log(' > 2019'),
            ((1 == this.dataUser.incomeType1 ||
               2 == this.dataUser.incomeType1) &&
               this.dataUser.haveJob3 &&
               !this.dataUser.incomeFromJob4) ||
            5 == this.dataUser.incomeType1
               ? ((a = this.firstStepA1NoDeduction(a)),
                 2021 !== a.selectYear && (a = this.additionalStepA1(a)),
                 this.finishStep(a, b))
               : ((a = this.firstStepA1(a)),
                 (a = this.secondStepA1(a)),
                 (a = this.threeStepA1(a)),
                 (a = this.fourStepA1(a)),
                 ((1 != this.dataUser.incomeType1 &&
                    2 != this.dataUser.incomeType1) ||
                    this.dataUser.haveJob3) &&
                    ((a = this.fiveStepA1(a)),
                    (a = this.sixStepA1(a)),
                    (a = this.sevenStepA1(a))),
                 this.finishStep(a, b))
         );
      if (a.selectYear < 2019) {
         if (this.dataUser.haveJob3 && this.dataUser.incomeFromJob4)
            return (
               (a = this.firstStepA1(a)),
               (a = this.secondStepA1(a)),
               (a = this.threeStepA1(a)),
               (a = this.fourStepA1(a)),
               (a = this.fiveStepA1(a)),
               (a = this.sixStepA1(a)),
               (a = this.sevenStepA1(a)),
               this.finishStep(a, b)
            );
         if (this.dataUser.haveJob3 && !this.dataUser.incomeFromJob4)
            return (a.result = this.dataUser.sumByTax2), this.finishStep(a, b);
         if (!this.dataUser.haveJob3)
            return (
               (a = this.firstStepA1(a)),
               (a = this.secondStepA1(a)),
               (a = this.threeStepA1(a)),
               (a = this.fourStepA1(a)),
               this.finishStep(a, b)
            );
      }
      return 2019 === a.selectYear
         ? (1 != this.dataUser.incomeType1 && 2 != this.dataUser.incomeType1) ||
           !this.dataUser.haveJob3 ||
           this.dataUser.incomeFromJob4
            ? 5 == this.dataUser.incomeType1
               ? ((a = this.firstStepA1NoDeduction(a)),
                 (a = this.additionalStepA1(a)),
                 this.finishStep(a, b))
               : ((a = this.firstStepA1(a)),
                 (a = this.secondStepA1(a)),
                 (a = this.threeStepA1(a)),
                 (a = this.fourStepA1(a)),
                 (a = this.fiveStepA1(a)),
                 (a = this.sixStepA1(a)),
                 (a = this.sevenStepA1(a)),
                 this.finishStep(a, b))
            : ((a = this.firstStepA1NoDeduction(a)),
              (a = this.additionalStepA1(a)),
              this.finishStep(a, b))
         : void 0;
   }),
   (Calculator.prototype.finishStep = function (a, b) {
      return (
         console.log('Last step for get percent:', a, b),
         (a.result = (a.result / 100) * b),
         this.dataUser.sumByTax2 < a.benefits &&
            (a.benefits = this.dataUser.sumByTax2),
         a
      );
   }),
   (Calculator.prototype.setFormUserData = function (a) {
      this.dataUser = a;
   }),
   (CountChildInvalidError.property = Object.create(Error.prototype)),
   (CountChildInvalidError.constructor = CountChildInvalidError);
var Calculator2015 = function (a) {
   (this.config = {
      MS_VALUE: 442e4,
      MS_VALUE_1: 73e4,
      MS_VALUE_2: 41e4,
      MS_VALUE_3: 21e4,
      MS_VALUE_4: 103e4,
      MS_VALUE_5: 16e6,
      percent: { PERCENT_13: 13, PERCENT_9: 9, PERCENT_4: 4, PERCENT_16: 16 },
   }),
      Calculator.apply(this, arguments);
};
(Calculator2015.prototype = Object.create(Calculator.prototype)),
   (Calculator2015.constructor = Calculator2015),
   (Calculator2015.prototype.calculate = function () {
      var a = { result: 0, benefits: 0 };
      switch (this.dataUser.incomeType1) {
         case 1:
            return this.income(a, this.config.percent.PERCENT_13);
         case 2:
            return this.income(a, this.config.percent.PERCENT_9);
         default:
            throw new Error('not found');
      }
   });
var Calculator2016 = function (a) {
   (this.config = {
      MS_VALUE: 501e4,
      MS_VALUE_1: 83e4,
      MS_VALUE_2: 46e4,
      MS_VALUE_3: 24e4,
      MS_VALUE_4: 117e4,
      MS_VALUE_5: 1813e4,
      percent: { PERCENT_13: 13, PERCENT_9: 9, PERCENT_4: 4, PERCENT_16: 16 },
   }),
      Calculator.apply(this, arguments);
};
(Calculator2016.prototype = Object.create(Calculator.prototype)),
   (Calculator2016.constructor = Calculator2016),
   (Calculator2016.prototype.calculate = function () {
      var a = { result: 0, benefits: 0 };
      switch (this.dataUser.incomeType1) {
         case 1:
            return this.income(a, this.config.percent.PERCENT_13);
         case 2:
            return this.income(a, this.config.percent.PERCENT_9);
         case 3:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_4)
            );
         case 4:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_16)
            );
      }
   });
var Calculator2016after = function (a) {
   (this.config = {
      MS_VALUE: 501,
      MS_VALUE_1: 83,
      MS_VALUE_2: 46,
      MS_VALUE_3: 24,
      MS_VALUE_4: 117,
      MS_VALUE_5: 1813,
      percent: { PERCENT_13: 13, PERCENT_9: 9, PERCENT_4: 4, PERCENT_16: 16 },
   }),
      Calculator.apply(this, arguments);
};
(Calculator2016after.prototype = Object.create(Calculator.prototype)),
   (Calculator2016after.constructor = Calculator2016after),
   (Calculator2016after.prototype.calculate = function () {
      var a = { result: 0, benefits: 0 };
      switch (this.dataUser.incomeType1) {
         case 1:
            return this.income(a, this.config.percent.PERCENT_13);
         case 2:
            return this.income(a, this.config.percent.PERCENT_9);
         case 3:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_4)
            );
         case 4:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_16)
            );
      }
   });
var Calculator2017 = function (a) {
   (this.config = {
      MS_VALUE: 563,
      MS_VALUE_1: 93,
      MS_VALUE_2: 52,
      MS_VALUE_3: 27,
      MS_VALUE_4: 131,
      MS_VALUE_5: 2874,
      percent: { PERCENT_13: 13, PERCENT_9: 9, PERCENT_4: 4, PERCENT_16: 16 },
   }),
      Calculator.apply(this, arguments);
};
(Calculator2017.prototype = Object.create(Calculator.prototype)),
   (Calculator2017.constructor = Calculator2017),
   (Calculator2017.prototype.calculate = function () {
      var a = { result: 0, benefits: 0 };
      switch (this.dataUser.incomeType1) {
         case 1:
            return this.income(a, this.config.percent.PERCENT_13);
         case 2:
            return this.income(a, this.config.percent.PERCENT_9);
         case 3:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_4)
            );
         case 4:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_16)
            );
         case 5:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_13)
            );
      }
   });
var Calculator2018 = function (a) {
   (this.config = {
      MS_VALUE: 620,
      MS_VALUE_1: 102,
      MS_VALUE_2: 57,
      MS_VALUE_3: 30,
      MS_VALUE_4: 144,
      MS_VALUE_5: 3164,
      percent: { PERCENT_13: 13, PERCENT_9: 9, PERCENT_4: 4, PERCENT_16: 16 },
   }),
      Calculator.apply(this, arguments);
};
(Calculator2018.prototype = Object.create(Calculator.prototype)),
   (Calculator2018.constructor = Calculator2018),
   (Calculator2018.prototype.calculate = function () {
      var a = { result: 0, benefits: 0 };
      switch (this.dataUser.incomeType1) {
         case 1:
            return this.income(a, this.config.percent.PERCENT_13);
         case 2:
            return this.income(a, this.config.percent.PERCENT_9);
         case 3:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_4)
            );
         case 4:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_16)
            );
         case 5:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_13)
            );
      }
   });
var Calculator2019 = function (a) {
   (this.config = {
      MS_VALUE: 665,
      MS_VALUE_1: 110,
      MS_VALUE_2: 61,
      MS_VALUE_3: 32,
      MS_VALUE_4: 155,
      MS_VALUE_5: 99999999999,
      percent: { PERCENT_13: 13, PERCENT_9: 9, PERCENT_4: 4, PERCENT_16: 16 },
   }),
      Calculator.apply(this, arguments);
};
(Calculator2019.prototype = Object.create(Calculator.prototype)),
   (Calculator2019.constructor = Calculator2019),
   (Calculator2019.prototype.calculate = function () {
      var a = { result: 0, benefits: 0, selectYear: 2019 };
      switch (this.dataUser.incomeType1) {
         case 1:
            return this.income(a, this.config.percent.PERCENT_13);
         case 2:
            return this.income(a, this.config.percent.PERCENT_9);
         case 3:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_4)
            );
         case 4:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_16)
            );
         case 5:
            return this.income(a, this.config.percent.PERCENT_13);
      }
   });
var Calculator2020 = function (a) {
   (this.config = {
      MS_VALUE: 709,
      MS_VALUE_1: 117,
      MS_VALUE_2: 65,
      MS_VALUE_3: 34,
      MS_VALUE_4: 165,
      MS_VALUE_5: 99999999999,
      percent: { PERCENT_13: 13, PERCENT_9: 9, PERCENT_4: 4, PERCENT_16: 16 },
   }),
      Calculator.apply(this, arguments);
};
(Calculator2020.prototype = Object.create(Calculator.prototype)),
   (Calculator2020.constructor = Calculator2020),
   (Calculator2020.prototype.calculate = function () {
      var a = { result: 0, benefits: 0, selectYear: 2020 };
      switch (this.dataUser.incomeType1) {
         case 1:
            return this.income(a, this.config.percent.PERCENT_13);
         case 2:
            return this.income(a, this.config.percent.PERCENT_9);
         case 3:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_4)
            );
         case 4:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_16)
            );
         case 5:
            return this.income(a, this.config.percent.PERCENT_13);
      }
   });
var Calculator2021 = function (a) {
   (this.config = {
      MS_VALUE: 761,
      MS_VALUE_1: 126,
      MS_VALUE_2: 70,
      MS_VALUE_3: 37,
      MS_VALUE_4: 177,
      MS_VALUE_5: 99999999999,
      percent: { PERCENT_13: 13, PERCENT_9: 13, PERCENT_4: 4, PERCENT_16: 16 },
   }),
      Calculator.apply(this, arguments);
};
(Calculator2021.prototype = Object.create(Calculator.prototype)),
   (Calculator2021.constructor = Calculator2021),
   (Calculator2021.prototype.calculate = function () {
      var a = { result: 0, benefits: 0, selectYear: 2021 };
      switch (this.dataUser.incomeType1) {
         case 1:
            return this.income(a, this.config.percent.PERCENT_13);
         case 2:
            return this.income(a, this.config.percent.PERCENT_9);
         case 3:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_4)
            );
         case 4:
            return (
               (a.result = this.dataUser.sumByTax2),
               this.finishStep(a, this.config.percent.PERCENT_16)
            );
         case 5:
            return this.income(a, this.config.percent.PERCENT_13);
      }
   }),
   (function (a) {
      function b(b) {
         var c = b,
            d = c.value.length;
         if ('selectionEnd' in c) {
            var e = c.selectionEnd;
            a(c).val(g(a(c).val().replace(/\s+/g, '').replace(/\,/, '.')));
            var f = c.value.length;
            c.setSelectionRange(e + (f - d), e + (f - d));
         } else {
            var h = c.createTextRange();
            h.expand('character', c.value.length);
            var i = document.selection.createRange();
            i.setEndPoint('StartToStart', h);
            var j = i.text.length;
            a(c).val(g(a(c).val().replace(/\s+/g, '').replace(/\,/, '.')));
            var f = c.value.length;
            i.move('character', j + (f - d)), i.select();
         }
      }
      function c(a, b) {
         var c = [],
            d = [];
         for (var e in a) a.hasOwnProperty(e) && c.push(e);
         for (var e in b) b.hasOwnProperty(e) && d.push(e);
         if (c.length != d.length) return !1;
         for (var f = 0; f < c.length; f++) {
            var g = c[f];
            if (a[g] !== b[g]) return !1;
         }
         return !0;
      }
      function d() {
         a('.modal-calculator .calc-sum-tax-label').text(0),
            a('.modal-calculator .calc-quantity-tax-label').text(0),
            a('.modal-calculator .calc-progress-complete').css('width', '0%'),
            a('.modal-calculator .calc-progress-2').css('width', '0%'),
            a('.modal-calculator .calc-benefits-result').text(0),
            a('.modal-calculator .calc-triangle').css('margin-left', '0%');
      }
      function e() {
         var a = null,
            b = null;
         if (
            ((p = !c(o.formUser, o.defaultUser)),
            2015 !== n &&
               2016 !== n &&
               '2016after' !== n &&
               2017 !== n &&
               2018 !== n &&
               2019 !== n &&
               2020 !== n &&
               2021 !== n)
         )
            throw new Error('Not found realization for the year');
         2015 === n &&
            ((b = new Calculator2015(f(o.formUser))), (a = new TaxService(b))),
            2016 === n &&
               ((b = new Calculator2016(f(o.formUser))),
               (a = new TaxService(b))),
            '2016after' === n &&
               ((b = new Calculator2016after(f(o.formUser))),
               (a = new TaxService(b))),
            2017 === n &&
               ((b = new Calculator2017(f(o.formUser))),
               (a = new TaxService(b))),
            2018 === n &&
               ((b = new Calculator2018(f(o.formUser))),
               (a = new TaxService(b))),
            2019 === n &&
               ((b = new Calculator2019(f(o.formUser))),
               (a = new TaxService(b))),
            2020 === n &&
               ((b = new Calculator2020(f(o.formUser))),
               (a = new TaxService(b))),
            2021 === n &&
               ((b = new Calculator2021(f(o.formUser))),
               (a = new TaxService(b)));
         try {
            var d = a.sumCalculator();
            i(d, b, n), console.log('Finish result:', d.result);
         } catch (e) {
            console.log(e.message), console.log('Finish result:', 0);
         }
      }
      function f(b) {
         return {
            incomeType1: +b.incomeType1,
            sumByTax2: +b.sumByTax2,
            haveJob3: a.parseJSON(b.haveJob3),
            incomeFromJob4: a.parseJSON(b.incomeFromJob4),
            oneParent5: a.parseJSON(b.oneParent5),
            countChildBeforeEighteen6: +b.countChildBeforeEighteen6,
            countChildInvalid7: +b.countChildInvalid7,
            countDependents8: +b.countDependents8,
            privileges9: a.parseJSON(b.privileges9),
            sumByEducation10: +b.sumByEducation10,
            sumSpendInsurancePremiums11: +b.sumSpendInsurancePremiums11,
            costsForBuild12: +b.costsForBuild12,
         };
      }
      function g(a) {
         return 0 === a
            ? 0
            : a.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
      }
      function h(a, b) {
         var b = b || 0,
            c = Math.pow(10, b),
            d = Math.abs(Math.round(a * c)),
            e = (a < 0 ? '-' : '') + String(Math.floor(d / c));
         if (b > 0) {
            var f = String(d % c),
               g = new Array(Math.max(b - f.length, 0) + 1).join('0');
            e += '.' + g + f;
         }
         return e;
      }
      function i(b, c, d) {
         a(
            '.modal-calculator .calc-right-part-gerb .if-not-by-agent-2021'
         ).hide(),
            a('.modal-calculator .calc-block-information')
               .find('.calc-not-privileges-agent')
               .hide(),
            2019 !== d &&
               2020 !== d &&
               2021 !== d &&
               ('false' === o.formUser.incomeFromJob4 &&
               'true' === o.formUser.haveJob3
                  ? (a('.txt').hide(),
                    3 == o.formUser.incomeType1 ||
                    4 == o.formUser.incomeType1 ||
                    5 == o.formUser.incomeType1
                       ? a('.txt').show()
                       : a('.txt').hide(),
                    a('.modal-calculator .calc-block-information')
                       .find(
                          '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                       )
                       .hide(),
                    a('.modal-calculator .calc-not-privileges').show())
                  : 0 !== +o.formUser.sumByTax2 ||
                    (1 != o.formUser.incomeType1 && 2 != o.formUser.incomeType1)
                  ? (3 != o.formUser.incomeType1 &&
                       4 != o.formUser.incomeType1 &&
                       5 != o.formUser.incomeType1) ||
                    (2016 !== d &&
                       '2016after' !== d &&
                       2017 !== d &&
                       2018 !== d)
                     ? (l(o) &&
                          ('false' === o.formUser.haveJob3 ||
                             'true' === o.formUser.haveJob3) &&
                          +o.formUser.sumByTax2 > 0) ||
                       b.benefits > 0
                        ? (a('.modal-calculator .calc-block-information')
                             .find(
                                '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                             )
                             .hide(),
                          a('.modal-calculator .calc-show-tax').show())
                        : ((+o.formUser.sumByTax2 > 0 &&
                             'true' === o.formUser.incomeFromJob4) ||
                             'false' === o.formUser.haveJob3 ||
                             'true' === o.formUser.haveJob3) &&
                          (a('.modal-calculator .calc-block-information')
                             .find(
                                '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                             )
                             .hide(),
                          a('.modal-calculator .calc-add-privileges').show())
                     : (a('.modal-calculator .calc-block-information')
                          .find(
                             '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                          )
                          .hide(),
                       a('.modal-calculator .calc-not-privileges').show(),
                       a('.txt').show())
                  : (a('.modal-calculator .calc-block-information')
                       .find(
                          '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                       )
                       .hide(),
                    a('.modal-calculator .calc-add-sum').show())),
            d >= 2019 &&
               (2021 !== d ||
               (((1 != o.formUser.incomeType1 && 2 != o.formUser.incomeType1) ||
                  'true' !== o.formUser.haveJob3 ||
                  'false' !== o.formUser.incomeFromJob4) &&
                  5 != o.formUser.incomeType1)
                  ? 0 !== +o.formUser.sumByTax2 ||
                    (1 != o.formUser.incomeType1 &&
                       2 != o.formUser.incomeType1 &&
                       5 != o.formUser.incomeType1)
                     ? 3 == o.formUser.incomeType1 ||
                       4 == o.formUser.incomeType1
                        ? (a('.modal-calculator .calc-block-information')
                             .find(
                                '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                             )
                             .hide(),
                          a('.modal-calculator .calc-not-privileges').show(),
                          a('.txt').show())
                        : !(+o.formUser.sumByTax2 > 0) ||
                          ((5 != o.formUser.incomeType1 ||
                             m(o) ||
                             0 !== b.benefits) &&
                             ((1 != o.formUser.incomeType1 &&
                                2 != o.formUser.incomeType1) ||
                                'true' !== o.formUser.haveJob3 ||
                                'true' !== o.formUser.incomeFromJob4 ||
                                l(o) ||
                                0 !== b.benefits) &&
                             ((1 != o.formUser.incomeType1 &&
                                2 != o.formUser.incomeType1) ||
                                'true' !== o.formUser.haveJob3 ||
                                'false' !== o.formUser.incomeFromJob4 ||
                                m(o) ||
                                0 !== b.benefits) &&
                             ((1 != o.formUser.incomeType1 &&
                                2 != o.formUser.incomeType1) ||
                                'false' !== o.formUser.haveJob3 ||
                                l(o) ||
                                0 !== b.benefits))
                        ? (a('.modal-calculator .calc-block-information')
                             .find(
                                '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                             )
                             .hide(),
                          a('.modal-calculator .calc-show-tax').show())
                        : (a('.modal-calculator .calc-block-information')
                             .find(
                                '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                             )
                             .hide(),
                          a('.modal-calculator .calc-add-privileges').show())
                     : (a('.modal-calculator .calc-block-information')
                          .find(
                             '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                          )
                          .hide(),
                       a('.modal-calculator .calc-add-sum').show())
                  : (a('.modal-calculator .calc-block-information')
                       .find(
                          '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges'
                       )
                       .hide(),
                    a('.modal-calculator .calc-not-privileges-agent').show(),
                    a('.txt').show())),
            2021 === d && 5 == o.formUser.incomeType1
               ? (a('.modal-calculator .calc-right-part').hide(),
                 a('.modal-calculator .calc-right-part-gerb').show(),
                 a(
                    '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-false'
                 ).hide(),
                 a(
                    '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-true'
                 ).hide(),
                 a(
                    '.modal-calculator .calc-right-part-gerb .if-not-by-agent-2021'
                 ).show())
               : (2019 === d ||
                    2020 === d ||
                    2021 === d ||
                    (3 != o.formUser.incomeType1 &&
                       4 != o.formUser.incomeType1 &&
                       5 != o.formUser.incomeType1)) &&
                 ((2019 !== d && 2020 !== d) ||
                    (3 != o.formUser.incomeType1 &&
                       4 != o.formUser.incomeType1)) &&
                 (2021 !== d ||
                    (3 != o.formUser.incomeType1 &&
                       4 != o.formUser.incomeType1))
               ? d < 2019 &&
                 'true' === o.formUser.haveJob3 &&
                 'false' === o.formUser.incomeFromJob4
                  ? (a('.modal-calculator .calc-right-part').hide(),
                    a('.modal-calculator .calc-right-part-gerb').show(),
                    a(
                       '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-false'
                    ).show(),
                    a(
                       '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-true'
                    ).hide())
                  : 2021 !== d ||
                    (1 != o.formUser.incomeType1 &&
                       2 != o.formUser.incomeType1) ||
                    'true' !== o.formUser.haveJob3 ||
                    'false' !== o.formUser.incomeFromJob4
                  ? (a('.modal-calculator .calc-right-part-gerb').hide(),
                    a('.modal-calculator .calc-right-part').show(),
                    a(
                       '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-false'
                    ).hide(),
                    a(
                       '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-true'
                    ).show())
                  : (a('.modal-calculator .calc-right-part').hide(),
                    a('.modal-calculator .calc-right-part-gerb').show(),
                    a(
                       '.modal-calculator .calc-right-part-gerb .if-not-by-agent-2021'
                    ).show(),
                    a(
                       '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-false'
                    ).hide(),
                    a(
                       '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-true'
                    ).hide())
               : (a('.modal-calculator .calc-right-part').hide(),
                 a('.modal-calculator .calc-right-part-gerb').show(),
                 a(
                    '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-false'
                 ).hide(),
                 a(
                    '.modal-calculator .calc-right-part-gerb .if-incomeFromJob4-is-true'
                 ).show()),
            3 == o.formUser.incomeType1 ||
            4 == o.formUser.incomeType1 ||
            5 == o.formUser.incomeType1
               ? a('.display-calcblock').hide()
               : 2019 !== d &&
                 2020 !== d &&
                 2021 !== d &&
                 'false' === o.formUser.haveJob3
               ? (a('.modal-calculator .calc-block-not-work').hide(),
                 a('.modal-calculator .calc-form-border').show())
               : 2019 === d ||
                 2020 === d ||
                 2021 === d ||
                 (1 != o.formUser.incomeType1 && 2 != o.formUser.incomeType1) ||
                 'true' !== o.formUser.haveJob3
               ? (2019 !== d && 2020 !== d && 2021 !== d) ||
                 (1 != o.formUser.incomeType1 && 2 != o.formUser.incomeType1) ||
                 (a('.modal-calculator .tax-deductions').show(),
                 a('.display-calcblock').hide(),
                 a('.modal-calculator .calc-form-border').show(),
                 2021 === d && 'false' === o.formUser.haveJob3
                    ? a('.modal-calculator .calc-block-not-work').hide()
                    : a('.modal-calculator .calc-block-not-work').show(),
                 'false' === o.formUser.haveJob3
                    ? a('.modal-calculator .income-from-job').hide()
                    : 'true' === o.formUser.haveJob3 &&
                      'false' === o.formUser.incomeFromJob4 &&
                      a('.modal-calculator .tax-deductions').hide())
               : (a('.modal-calculator .calc-form-border').show(),
                 a('.modal-calculator .calc-block-not-work').show()),
            (2019 !== d && 2020 !== d) ||
               5 != o.formUser.incomeType1 ||
               (a('.modal-calculator .tax-deductions').hide(),
               a('.modal-calculator .calc-form-border').show(),
               a('.modal-calculator .calc-block-not-work').show(),
               a('.display-calcblock').hide()),
            2015 == d || 2016 == d
               ? (a('.calc-sum-tax-label').text(g(Math.round(b.result))),
                 a('.calc-benefits-result').text(g(b.benefits)),
                 a('.calc-quantity-tax-label').text(g(o.formUser.sumByTax2)))
               : ('2016after' != d &&
                    2017 !== d &&
                    2018 !== d &&
                    2019 !== d &&
                    2020 !== d &&
                    2021 !== d) ||
                 (a('.calc-sum-tax-label').text(g(h(b.result, 2))),
                 a('.calc-quantity-tax-label').text(
                    g(h(o.formUser.sumByTax2, 2))
                 ),
                 a('.calc-benefits-result').text(g(h(b.benefits, 2))));
         var e =
            0 === b.result
               ? 0
               : Math.round((100 * b.result) / +o.formUser.sumByTax2);
         a('.calc-progress-complete').css('width', e + '%'),
            a('.calc-triangle').css('margin-left', e + '%');
      }
      function j(b) {
         a.extend(o.formUser, o.defaultUser);
         for (var c in o.formUser)
            'incomeType1' !== c &&
               (a('.modal-calculator input[name=' + c + ']').val(o.formUser[c]),
               a('.modal-calculator input[name=' + c + ']').val(o.formUser[c]));
         a('.modal-calculator .calc-income-tooltip').tooltip('enable'),
            a('.modal-calculator .calc-income-tooltip:first').tooltip(
               'disable'
            ),
            a('.modal-calculator .calc-income-type').removeClass('select');
         var f = 2019 === b || 2020 === b ? '#for2019' : '#notFor2019';
         2021 === b && (f = '#for2021');
         var g = a('.modal-calculator .calc-income .calc-income-type:eq(0)');
         g.addClass('select', 3e3).find(f).prop('checked', !0),
            g
               .find('.calc-income-type-text.calc-income-first')
               .removeClass('calc-dots')
               .find('span')
               .show(),
            a(
               '.modal-calculator .calc-income .calc-income-type:eq(1) .calc-income-type-text'
            ).addClass('calc-dots'),
            a(
               '.modal-calculator .calc-income .calc-income-type:eq(2) .calc-income-type-text'
            ).addClass('calc-dots'),
            a(
               '.modal-calculator .calc-income .calc-income-type:eq(3) .calc-income-type-text'
            ).addClass('calc-dots'),
            a(
               '.modal-calculator .calc-income .calc-income-type:eq(4) .calc-income-type-text'
            ).addClass('calc-dots'),
            a('.modal-calculator .btn-group')
               .find('.calc-button')
               .removeClass('calc-check'),
            a(
               '.modal-calculator .btn-group:eq(0) .calc-button:eq(0),.btn-group:eq(1) .calc-button:eq(0)'
            ).addClass('calc-check'),
            a(
               '.modal-calculator .btn-group:eq(2) .calc-button:eq(1),.btn-group:eq(3) .calc-button:eq(1)'
            ).addClass('calc-check'),
            a('.modal-calculator .calc-block-not-work').show(),
            a('.modal-calculator .calc-right-part-gerb').hide(),
            a('.display-calcblock').show(),
            a('.modal-calculator .calc-right-part').show(),
            a('.modal-calculator .calc-block-information')
               .find(
                  '.calc-add-sum,.calc-add-privileges,.calc-show-tax,.calc-not-privileges,.calc-not-privileges-agent'
               )
               .hide(),
            a('.modal-calculator .calc-add-sum').show(),
            a('.modal-calculator .calc-amount-tax-block').hide(),
            (p = !1),
            d();
         a('.modal-calculator .form').valid();
         e();
      }
      function k() {
         var b = a(this).find('.modal-calc-container');
         b.css(
            'margin-top',
            Math.max(0, (a(window).height() - b.height()) / 2)
         );
      }
      function l(a) {
         return (
            'false' !== a.formUser.oneParent5 ||
            '' !== a.formUser.countChildBeforeEighteen6 ||
            '' !== a.formUser.countChildInvalid7 ||
            '' !== a.formUser.countDependents8 ||
            'false' !== a.formUser.privileges9 ||
            '' !== a.formUser.sumByEducation10 ||
            '' !== a.formUser.sumSpendInsurancePremiums11 ||
            '' !== a.formUser.costsForBuild12
         );
      }
      function m(a) {
         return (
            '' !== a.formUser.sumByEducation10 ||
            '' !== a.formUser.sumSpendInsurancePremiums11 ||
            '' !== a.formUser.costsForBuild12
         );
      }
      var n = 2015,
         o = {
            formUser: {
               incomeType1: '1',
               sumByTax2: '',
               haveJob3: 'true',
               incomeFromJob4: 'true',
               oneParent5: 'false',
               countChildBeforeEighteen6: '',
               countChildInvalid7: '',
               countDependents8: '',
               privileges9: 'false',
               sumByEducation10: '',
               sumSpendInsurancePremiums11: '',
               costsForBuild12: '',
            },
            defaultUser: {
               incomeType1: '1',
               sumByTax2: '',
               haveJob3: 'true',
               incomeFromJob4: 'true',
               oneParent5: 'false',
               countChildBeforeEighteen6: '',
               countChildInvalid7: '',
               countDependents8: '',
               privileges9: 'false',
               sumByEducation10: '',
               sumSpendInsurancePremiums11: '',
               costsForBuild12: '',
            },
         },
         p = !1;
      a(document).ready(function () {
         function c() {
            return 'Введенные данные и расчеты не будут сохранены.';
         }
         console.log('DEBUG MODE!'),
            p && (window.onbeforeunload = c),
            a('.modal').on('shown.bs.modal', k),
            a(window).on('resize', function () {
               a('.modal:visible').each(k);
            }),
            a('.modal-calculator .calc-income-tooltip').tooltip({
               trigger: 'hover',
               html: !0,
               placement: 'auto',
            }),
            a('.modal-calculator .calc-income-tooltip:first').tooltip(
               'disable'
            ),
            a('.modal-calculator .calc-info-icon').tooltip({
               placement: 'auto',
            }),
            a.validator.addMethod(
               'checkInvalidChild',
               function (b, c, d) {
                  var e = !0;
                  return (
                     +a('.modal-calculator [name=countChildInvalid7]').val() >
                        +a(
                           '.modal-calculator [name=countChildBeforeEighteen6]'
                        ).val() &&
                        a('.modal-calculator [name=countChildInvalid7]').val()
                           .length > 0 &&
                        (e = !1),
                     e
                  );
               },
               'Your error message!'
            ),
            a.validator.addMethod('maxLength', function (b, c, d) {
               if (2015 == n || 2016 == n) {
                  if (b.length > 15) {
                     var e = 0;
                     (e =
                        c.value.indexOf(' ') !== -1
                           ? a(c).val().slice(0, 15)
                           : a(c).val().slice(0, 12)),
                        a(
                           '.modal-calculator [name=' + a(c).attr('name') + ']'
                        ).val(e);
                  }
                  return !0;
               }
               if (
                  '2016after' == n ||
                  2017 == n ||
                  2018 === n ||
                  2019 === n ||
                  2020 === n ||
                  2021 === n
               ) {
                  if (b.length > 11) {
                     var e = 0;
                     (e =
                        c.value.indexOf(' ') !== -1
                           ? a(c).val().slice(0, 13)
                           : a(c).val().slice(0, 1)),
                        a(
                           '.modal-calculator [name=' + a(c).attr('name') + ']'
                        ).val(e);
                  }
                  return !0;
               }
            }),
            a.validator.addMethod('regNumber', function (a, b, c) {
               return /^(\d?)+$/.test(a.replace(/\s+/g, ''));
            }),
            a.validator.addMethod('addAmount', function (a, b, c) {
               return 2015 == n || 2016 == n
                  ? /^(\d?)+$/.test(a.replace(/\s+/g, ''))
                  : ('2016after' != n &&
                       2017 != n &&
                       2018 !== n &&
                       2019 !== n &&
                       2020 !== n &&
                       2021 !== n) ||
                       /^(\d?)+(\.?)(\d?){2}$/.test(
                          a.replace(/\,+/g, '.').replace(/\s+/g, '')
                       );
            }),
            a.validator.addMethod('', function (a, b, c) {
               return 2015 == n || 2016 == n
                  ? /^(\d?)+$/.test(a.replace(/\s+/g, ''))
                  : ('2016after' != n &&
                       2017 != n &&
                       2018 !== n &&
                       2019 !== n &&
                       2020 !== n &&
                       2021 !== n) ||
                       /^(\d?)+(\.?)(\d?){2}$/.test(
                          a.replace(/\,+/g, '.').replace(/\s+/g, '')
                       );
            });
         var d = a('.modal-calculator .form').validate({
            errorPlacement: function (a, b) {
               return !0;
            },
            rules: {
               sumByTax2: { maxLength: !0, addAmount: !0 },
               countChildBeforeEighteen6: { maxLength: !0, regNumber: !0 },
               countChildInvalid7: {
                  maxLength: !0,
                  regNumber: !0,
                  checkInvalidChild: !0,
               },
               countDependents8: { maxLength: !0, regNumber: !0 },
               sumByEducation10: { maxLength: !0, addAmount: !0 },
               sumSpendInsurancePremiums11: { maxLength: !0, addAmount: !0 },
               costsForBuild12: { maxLength: !0, addAmount: !0 },
            },
         });
         a('.modal-calculator [name=incomeType1]').on('change', function (b) {
            a('.modal-calculator .calc-income')
               .find('.calc-income-type')
               .removeClass('select')
               .find('.calc-income-type-text')
               .addClass('calc-dots')
               .find(),
               a(this).closest('.calc-income-type').addClass('select'),
               a('.modal-calculator .calc-income-tooltip').tooltip('enable');
            var c = a(this)
               .closest('.calc-income-tooltip')
               .tooltip('disable')
               .parent('.calc-income-type')
               .find('.calc-income-type-text');
            c.hasClass('calc-income-first')
               ? c.find('span').show()
               : a(
                    '.modal-calculator .calc-income-type-text.calc-income-first span'
                 ).hide(),
               c.removeClass('calc-dots'),
               (o.formUser[a(this).attr('name')] = a(this).val()),
               e();
         }),
            a('button[name = "yearButton2015"]').click(function () {
               a('#calculatorModalChooser').modal('hide'),
                  (n = 2015),
                  a('.additional-for-2016, .hide-2017, .hide-2019').hide(),
                  a('.for2016').hide(),
                  a(
                     '.for2016after, .radio-for-2017б, .for2017, .for2018, .for2019, .radio-for-2019-g, .radio-for-2017-g'
                  ).hide(),
                  a('.for2020, .for2021').hide(),
                  a('.for2015, .not_for_2018, .not_for_2019').show(),
                  setTimeout(function () {
                     j();
                  }, 100),
                  e();
            }),
            a('button[name = "yearButton2016"]').click(function () {
               a('#calculatorModalChooser').modal('hide'),
                  (n = 2016),
                  a(
                     '.additional-for-2016, .hide-2017, .hide-2019, .tax-deductions'
                  ).show(),
                  a('.for2015').hide(),
                  a(
                     '.for2016after, .radio-for-2017, .for2017, .for2018, .for2019, .radio-for-2019-g, .radio-for-2017-g'
                  ).hide(),
                  a('.for2020, .for2021').hide(),
                  a('.for2016, .not_for_2018, .not_for_2019').show(),
                  setTimeout(function () {
                     j();
                  }, 100),
                  e();
            }),
            a('button[name = "yearButton2016after"]').click(function () {
               a('#calculatorModalChooser').modal('hide'),
                  (n = '2016after'),
                  a(
                     '.additional-for-2016, .hide-2017, .hide-2019, .tax-deductions'
                  ).show(),
                  a(
                     '.for2015, .for2016, .radio-for-2017, .for2017, .for2018, .for2019, .radio-for-2019-g, .radio-for-2017-g'
                  ).hide(),
                  a('.for2020, .for2021').hide(),
                  a('.for2016after, .not_for_2018, .not_for_2019').show(),
                  setTimeout(function () {
                     j();
                  }, 100),
                  e();
            }),
            a('button[name = "yearButton2017"]').click(function () {
               a('#calculatorModalChooser').modal('hide'),
                  (n = 2017),
                  a(
                     '.additional-for-2016, .radio-for-2017, .radio-for-2017-g, .hide-2019, .tax-deductions'
                  ).show(),
                  a(
                     '.for2015, .for2016, .for2016after, .hide-2017, .for2018, .for2019, .radio-for-2019-g'
                  ).hide(),
                  a('.for2020, .for2021').hide(),
                  a(
                     '.for2017, .radio-for-2017, .not_for_2018, .not_for_2019, .radio-for-2017-g'
                  ).show(),
                  setTimeout(function () {
                     j();
                  }, 100),
                  e();
            }),
            a('button[name = "yearButton2018"]').click(function () {
               a('#calculatorModalChooser').modal('hide'),
                  (n = 2018),
                  a(
                     '.additional-for-2016, .radio-for-2017, .radio-for-2017-g, .hide-2019, .tax-deductions'
                  ).show(),
                  a(
                     '.for2015, .for2016, .for2016after, .hide-2017, .for2017, .not_for_2018, .for2019, .radio-for-2019-g'
                  ).hide(),
                  a('.for2020, .for2021').hide(),
                  a(
                     '.for2018, .radio-for-2017, .not_for_2019, .radio-for-2017-g'
                  ).show(),
                  setTimeout(function () {
                     j();
                  }, 100),
                  e();
            }),
            a('button[name = "yearButton2019"]').click(function () {
               a('#calculatorModalChooser').modal('hide'),
                  (n = 2019),
                  a(
                     '.additional-for-2016, .radio-for-2017, .tax-deductions'
                  ).show(),
                  a(
                     '.for2015, .for2016, .for2016after, .hide-2017, .for2017, .not_for_2018, .for2018, .not_for_2019, .radio-for-2017-g, .hide-2019'
                  ).hide(),
                  a('.for2020, .for2021').hide(),
                  a('.for2019, .radio-for-2017, .radio-for-2019-g').show(),
                  setTimeout(function () {
                     j(2019);
                  }, 100),
                  e();
            }),
            a('button[name = "yearButton2020"]').click(function () {
               a('#calculatorModalChooser').modal('hide'),
                  (n = 2020),
                  a(
                     '.additional-for-2016, .radio-for-2017, .tax-deductions'
                  ).show(),
                  a(
                     '.for2015, .for2016, .for2016after, .hide-2017, .for2017, .not_for_2018, .for2018, .not_for_2019, .radio-for-2017-g, .hide-2019'
                  ).hide(),
                  a('.radio-for-2017, .radio-for-2019-g').show(),
                  a('.for2019').hide(),
                  a('.for2021').hide(),
                  a('.for2020').show(),
                  setTimeout(function () {
                     j(2020);
                  }, 100),
                  e();
            }),
            a('button[name = "yearButton2021"]').click(function () {
               a('#calculatorModalChooser').modal('hide'),
                  (n = 2021),
                  a(
                     '.additional-for-2016, .radio-for-2017, .tax-deductions'
                  ).show(),
                  a(
                     '.for2015, .for2016, .for2016after, .hide-2017, .for2017, .not_for_2018, .for2018, .not_for_2019, .radio-for-2017-g, .hide-2019'
                  ).hide(),
                  a('.radio-for-2017, .radio-for-2019-g').show(),
                  a('.for2019, .for2020').hide(),
                  a('.for2021').show(),
                  setTimeout(function () {
                     j(2021);
                  }, 100),
                  e();
            }),
            a('.modal-calculator .btn-group').on('click', function (b) {
               a(this).find('.calc-button').removeClass('calc-check'),
                  (o.formUser[a(b.target).attr('name')] = a(b.target).val()),
                  a(b.target).addClass('calc-check'),
                  e();
            }),
            a('.modal-calculator .calc-custom-button').click(function (b) {
               var c = a(this)
                     .parent('.input-group-btn')
                     .prev('div')
                     .find('input')
                     .attr('name'),
                  d = +o.formUser[c];
               '+' === this.value
                  ? (d += 1)
                  : '-' === this.value && ((d -= 1), d < 0 && (d = 0)),
                  (o.formUser[c] = d + ''),
                  a('.modal-calculator [name=' + c + ']').val(o.formUser[c]),
                  a('.modal-calculator .form').valid(),
                  e();
            }),
            a(
               '.modal-calculator [name=sumByTax2],[name=countChildBeforeEighteen6],[name=countChildInvalid7],[name=countDependents8],[name=sumByEducation10],[name=sumSpendInsurancePremiums11],[name=costsForBuild12]'
            ).on({
               keyup: function () {
                  a('.modal-calculator .form').valid(),
                     d.element(
                        '.modal-calculator [name=' + a(this).attr('name') + ']'
                     )
                        ? ((o.formUser[a(this).attr('name')] = a(this)
                             .val()
                             .replace(/\s+/g, '')
                             .replace(/\,/, '.')),
                          b(this))
                        : (o.formUser[a(this).attr('name')] = '0'),
                     '0' === a('.modal-calculator [name=sumByTax2]').val() ||
                     (+o.formUser.sumByTax2 >= 0 &&
                        d.element('.modal-calculator [name=sumByTax2]') &&
                        '' !== a('.modal-calculator [name=sumByTax2]').val())
                        ? a('.modal-calculator .calc-amount-tax-block').show()
                        : a('.modal-calculator .calc-amount-tax-block').hide(),
                     e();
               },
            }),
            a(
               '.modal-calculator [name=sumByTax2],[name=sumByEducation10],[name=sumSpendInsurancePremiums11],[name=costsForBuild12]'
            ).blur(function () {
               var c = a(this);
               if (
                  d.element(
                     '.modal-calculator [name=' + c.attr('name') + ']'
                  ) &&
                  ('2016after' == n ||
                     2017 === n ||
                     2018 === n ||
                     2019 === n ||
                     2020 === n ||
                     2021 === n)
               )
                  if ('' === a(c).val()) a(c).val('');
                  else {
                     var f = c.val().replace(/\s+/g, '').replace(/\,/, '.'),
                        g = h(parseFloat(f), 2);
                     a(c).val(g), b(this);
                  }
               e();
            }),
            a('.modal-calculator .calc-reset').click(function () {
               j(n);
            });
      });
   })(jQuery),
   $(document).ready(function () {
      $('a[href*="#calculatorModal"]').click(function (a) {
         a.preventDefault(), $('#calculatorModalChooser').modal();
      });
   });
